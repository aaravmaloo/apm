{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"APM","text":"<p>A professional-grade, zero-knowledge command-line password manager, written in Go.</p>"},{"location":"#highlights","title":"Highlights","text":"<ul> <li>A single tool to manage passwords, API keys, SSH keys, TOTP codes, certificates, and   20+ other secret types.</li> <li>Zero-knowledge encryption with Argon2id key derivation and   AES-256-GCM authenticated encryption.</li> <li>Native cloud synchronization across Google Drive, GitHub, and Dropbox.</li> <li>Built-in MCP server for AI assistant integration (Claude, Cursor,   etc.).</li> <li>Extensible via a declarative plugin architecture with 150+ granular   permissions.</li> <li>Team edition with RBAC, departments, and approval workflows.</li> <li>TOTP generation with real-time countdowns directly in the terminal.</li> <li>YAML-based policy engine for organizational compliance.</li> <li>Configurable security profiles from Standard to Paranoid.</li> <li>Supports Windows, macOS, and Linux.</li> </ul> <p>APM is created and maintained by Aarav Maloo.</p>"},{"location":"#installation","title":"Installation","text":"<p>Install APM by building from source:</p> <pre><code>$ git clone https://github.com/aaravmaloo/apm.git\n$ cd apm\n$ go build -o pm.exe main.go\n</code></pre> <p>Then, check out the first steps or read on for a brief overview.</p> <p>Tip</p> <p>See all available installation methods on the installation page.</p>"},{"location":"#vault-management","title":"Vault Management","text":"<p>APM manages an encrypted vault of credentials with support for 22 secret types, fuzzy search, and interactive editing:</p> <pre><code>$ pm init\nVault initialized successfully at ~/.apm/vault.dat\n\n$ pm add\n? Select category: Password\n? Account name: GitHub\n? Username: aarav@example.com\n? Password: ********\nEntry added successfully.\n\n$ pm get github\n+----------+----------------------+\n| Account  | GitHub               |\n| Username | aarav@example.com    |\n| Category | Password             |\n+----------+----------------------+\n</code></pre> <p>See the vault management guide to get started.</p>"},{"location":"#cloud-synchronization","title":"Cloud Synchronization","text":"<p>APM provides native multi-cloud synchronization to keep your vault available across all your trusted devices:</p> <pre><code>$ pm cloud init gdrive\nLaunching browser for Google OAuth...\nGoogle Drive sync initialized successfully.\n\n$ pm cloud push\nVault uploaded to Google Drive.\n\n$ pm cloud pull\nVault downloaded and merged.\n</code></pre> <p>See the cloud sync guide to get started.</p>"},{"location":"#totp-codes","title":"TOTP Codes","text":"<p>APM generates time-based one-time passwords with live countdowns:</p> <pre><code>$ pm totp show\n? Select entry: GitHub\n\n  Code: 482 913\n  Expires in: 18s [==================------]\n</code></pre> <p>See the TOTP guide to get started.</p>"},{"location":"#sessions","title":"Sessions","text":"<p>APM uses shell-scoped sessions with inactivity timeouts:</p> <pre><code>$ pm unlock\nMaster password: ********\nSession started (timeout: 1 hour).\n\n$ pm lock\nSession terminated. Memory wiped.\n</code></pre> <p>See the sessions guide to get started.</p>"},{"location":"#mcp-server","title":"MCP Server","text":"<p>APM includes a native MCP server for integration with AI assistants:</p> <pre><code>$ pm mcp token\n? Select permissions: read, secrets, totp\nToken generated: POXXXXXX...\n\n$ pm mcp serve --token POXXXXXX...\nMCP server listening on stdio...\n</code></pre> <p>See the MCP integration guide to get started.</p>"},{"location":"#the-team-interface","title":"The Team Interface","text":"<p>APM provides a dedicated team edition for organizations, with RBAC, departments, and approval workflows:</p> <pre><code>$ pm-team init \"Acme Corp\"\nOrganization initialized.\n\n$ pm-team dept create Engineering\nDepartment created with isolated encryption domain.\n\n$ pm-team user add alice --role admin\nUser onboarded successfully.\n</code></pre> <p>See the team edition documentation to get started.</p>"},{"location":"#learn-more","title":"Learn more","text":"<p>See the first steps or jump straight to the guides to start using APM.</p>"},{"location":"PLUGIN_API/","title":"APM Plugin API Reference","text":"<p>This document describes how to create plugins for the APM CLI. APM uses a declarative, JSON-driven execution engine that allows building complex workflows without writing Go code.</p>"},{"location":"PLUGIN_API/#plugin-structure","title":"Plugin Structure","text":"<p>A plugin is a directory containing a <code>plugin.json</code> manifest file. All assets are stored relative to this directory.</p> <pre><code>my-plugin/\n\u2514\u2500\u2500 plugin.json      # Manifest file\n</code></pre>"},{"location":"PLUGIN_API/#manifest-pluginjson","title":"Manifest (<code>plugin.json</code>)","text":"<p>The manifest defines the plugin's metadata, permissions, and command definitions.</p>"},{"location":"PLUGIN_API/#schema-example","title":"Schema Example","text":"<pre><code>{\n  \"name\": \"backup-tool\",\n  \"version\": \"1.2.0\",\n  \"description\": \"Backup vault to remote server\",\n  \"author\": \"Aarav Maloo\",\n  \"permissions\": [\n    \"vault.read\",\n    \"network.outbound\"\n  ],\n  \"commands\": {\n    \"backup-remote\": {\n      \"description\": \"Sync vault to remote endpoint\",\n      \"steps\": [\n        { \"op\": \"v:get\", \"args\": [\"MySecret\", \"pass\"] },\n        { \"op\": \"net:post\", \"args\": [\"https://api.myapp.com/sync\", \"{\\\"key\\\": \\\"{{pass}}\\\"}\", \"resp\"] },\n        { \"op\": \"s:out\", \"args\": [\"Server Response: {{resp}}\"] }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"PLUGIN_API/#operations-glossary-op","title":"Operations Glossary (<code>op</code>)","text":"<p>APM execute plugins through a series of \"ops\". Each op takes a list of <code>args</code>.</p>"},{"location":"PLUGIN_API/#vault-operations","title":"Vault Operations","text":"Op Args Description Permission <code>v:get</code> <code>[key, assignTo]</code> Retrieves password/token for <code>key</code>. <code>vault.read</code> <code>v:add</code> <code>[acc, pass, user]</code> Adds a new entry to the vault. <code>vault.write</code> <code>v:list</code> <code>[assignTo]</code> Lists all accounts as a CSV string. <code>vault.read</code> <code>v:del</code> <code>[key]</code> Deletes an entry from the vault. <code>vault.write</code> <code>v:backup</code> <code>[]</code> Creates a timestamped local backup. <code>vault.write</code> <code>v:lock</code> <code>[]</code> Signals a vault lock event. None"},{"location":"PLUGIN_API/#system-io-operations","title":"System &amp; IO Operations","text":"Op Args Description Permission <code>s:out</code> <code>[message]</code> Prints a message to the console. None <code>s:in</code> <code>[prompt, assignTo]</code> Prompts for user input. None <code>s:clip</code> <code>[text]</code> Copies text to system clipboard. <code>system.write</code> <code>s:sleep</code> <code>[seconds]</code> Pauses execution. None"},{"location":"PLUGIN_API/#network-operations","title":"Network Operations","text":"Op Args Description Permission <code>net:get</code> <code>[url, assignTo]</code> Performs an HTTP GET request. <code>network.outbound</code> <code>net:post</code> <code>[url, payload, assignTo]</code> Performs an HTTP POST request. <code>network.outbound</code>"},{"location":"PLUGIN_API/#cryptographic-operations","title":"Cryptographic Operations","text":"Op Args Description Permission <code>crypto:hash</code> <code>[data, assignTo]</code> Computes SHA-256 hash. <code>crypto.use</code>"},{"location":"PLUGIN_API/#variable-substitution","title":"Variable Substitution","text":"<p>You can use variables stored via <code>assignTo</code> in any argument using the <code>{{name}}</code> syntax. - System Reserved: <code>{{USER}}</code>, <code>{{OS}}</code>, <code>{{TIMESTAMP}}</code> (Available at runtime).</p>"},{"location":"PLUGIN_API/#permissions","title":"Permissions","text":"<p>Permissions must be explicitly requested in the <code>permissions</code> array of the manifest. Support for wildcard matching is available (e.g., <code>vault.*</code> grants all vault permissions).</p>"},{"location":"PLUGIN_API/#vault-operations_1","title":"Vault Operations","text":"<ul> <li><code>vault.read</code>, <code>vault.write</code>, <code>vault.delete</code></li> <li><code>vault.import</code>, <code>vault.export</code>, <code>vault.backup</code>, <code>vault.restore</code></li> <li><code>vault.history</code>, <code>vault.lock</code>, <code>vault.unlock</code>, <code>vault.sync</code></li> </ul>"},{"location":"PLUGIN_API/#item-operations","title":"Item Operations","text":"<ul> <li><code>vault.item.create</code>, <code>vault.item.read</code>, <code>vault.item.update</code>, <code>vault.item.delete</code></li> <li><code>vault.item.move</code>, <code>vault.item.copy</code>, <code>vault.item.share</code></li> <li><code>vault.item.field.*</code> (Granular field access: password, username, url, notes, totp, tags, metadata)</li> </ul>"},{"location":"PLUGIN_API/#network-access","title":"Network Access","text":"<ul> <li><code>network.outbound</code>, <code>network.inbound</code></li> <li>Protocol specific: <code>network.http</code>, <code>network.https</code>, <code>network.ssh</code>, <code>network.ftp</code>, <code>network.ws</code>, etc.</li> <li><code>network.proxy</code>, <code>network.dns</code></li> </ul>"},{"location":"PLUGIN_API/#system-integration","title":"System Integration","text":"<ul> <li><code>system.read</code>, <code>system.write</code>, <code>system.exec</code></li> <li><code>system.clipboard.read</code>, <code>system.clipboard.write</code></li> <li><code>system.env.read</code>, <code>system.env.write</code></li> <li><code>system.process.read</code>, <code>system.process.write</code>, <code>system.process.kill</code></li> <li><code>system.notification</code>, <code>system.audio.*</code>, <code>system.camera</code></li> </ul>"},{"location":"PLUGIN_API/#cryptography","title":"Cryptography","text":"<ul> <li><code>crypto.hash</code>, <code>crypto.random</code></li> <li><code>crypto.encrypt</code>, <code>crypto.decrypt</code></li> <li><code>crypto.sign</code>, <code>crypto.verify</code></li> <li><code>crypto.key.*</code> (generate, store, load, delete)</li> </ul>"},{"location":"PLUGIN_API/#plugin-management","title":"Plugin Management","text":"<ul> <li><code>plugin.list</code>, <code>plugin.install</code>, <code>plugin.uninstall</code>, <code>plugin.update</code></li> <li><code>plugin.config.read</code>, <code>plugin.config.write</code></li> </ul>"},{"location":"PLUGIN_API/#ui-interaction","title":"UI &amp; Interaction","text":"<ul> <li><code>ui.prompt</code>, <code>ui.alert</code>, <code>ui.confirm</code>, <code>ui.toast</code></li> <li><code>ui.window.*</code>, <code>ui.menu.*</code>, <code>ui.theme.set</code></li> </ul>"},{"location":"PLUGIN_API/#user-session","title":"User &amp; Session","text":"<ul> <li><code>user.read</code>, <code>user.write</code>, <code>user.auth</code></li> <li><code>user.session.read</code>, <code>user.session.write</code></li> </ul>"},{"location":"PLUGIN_API/#audit-logging","title":"Audit &amp; Logging","text":"<ul> <li><code>audit.read</code>, <code>audit.write</code></li> <li><code>audit.log.read</code>, <code>audit.log.write</code></li> </ul>"},{"location":"PLUGIN_API/#implementation-details","title":"Implementation Details","text":"<p>Plugins are installed via: 1. <code>pm plugins add &lt;name&gt;</code> (Marketplace) 2. <code>pm plugins local &lt;path&gt;</code> (Local Development)</p> <p>The manager stores them in <code>/plugins_cache/</code> and dynamically registers commands on startup.</p>"},{"location":"concepts/","title":"Concepts overview","text":"<p>Read the concept documents to learn more about APM's features:</p> <ul> <li>Encryption</li> <li>Vault format</li> <li>Secret types</li> <li>Security profiles</li> <li>Policy engine</li> <li>Sessions</li> <li>Cloud synchronization</li> <li>Plugins</li> <li>MCP server</li> <li>Recovery</li> <li>The team interface</li> </ul> <p>Looking for a quick introduction to features? See the guides instead.</p>"},{"location":"concepts/cloud-sync/","title":"Cloud synchronization","text":"<p>APM provides native multi-cloud synchronization to keep your vault available across all your trusted devices. The vault is always encrypted before transmission \u2014 cloud providers never see your plaintext data.</p> <p>Note</p> <p>See the cloud sync guide for an introduction to setting up cloud providers \u2014 this document discusses the synchronization architecture.</p>"},{"location":"concepts/cloud-sync/#architecture","title":"Architecture","text":"<p>Cloud sync in APM follows a simple push/pull model:</p> <pre><code>[Local Vault] --encrypt--&gt; [Encrypted Blob] --upload--&gt; [Cloud Provider]\n[Cloud Provider] --download--&gt; [Encrypted Blob] --decrypt--&gt; [Local Vault]\n</code></pre> <p>The encrypted vault file is transmitted as an opaque binary blob. No metadata, entry names, or structural information is visible to the cloud provider.</p>"},{"location":"concepts/cloud-sync/#supported-providers","title":"Supported providers","text":""},{"location":"concepts/cloud-sync/#google-drive","title":"Google Drive","text":"Property Value Authentication OAuth2 with PKCE flow Storage location Application Data Folder (hidden from user) Version history Limited (Drive's built-in versioning) Setup <code>pm cloud init gdrive</code> <p>APM uses an embedded OAuth flow \u2014 no external <code>credentials.json</code> or <code>token.json</code> files are required. Authentication is handled through an obfuscated internal layer.</p>"},{"location":"concepts/cloud-sync/#github","title":"GitHub","text":"Property Value Authentication Personal Access Token Storage location Private repository (configurable name) Version history Comprehensive (full Git history) Setup <code>pm cloud init github</code> <p>GitHub sync stores the vault as a file in a private repository, providing full version history through Git commits. This makes it ideal for developers who want granular rollback capability.</p>"},{"location":"concepts/cloud-sync/#dropbox","title":"Dropbox","text":"Property Value Authentication OAuth2 with PKCE flow Storage location Application Folder (isolated) Version history Limited (Dropbox's built-in versioning) Setup <code>pm cloud init dropbox</code>"},{"location":"concepts/cloud-sync/#conflict-resolution","title":"Conflict resolution","text":"<p>When pulling from a cloud provider, APM detects if the remote vault is newer than the local copy:</p> <ul> <li>If the remote vault is newer, it replaces the local vault.</li> <li>If the local vault is newer, the pull is skipped with a warning.</li> <li>If both have been modified, APM prompts the user to choose which version to keep.</li> </ul> <p>Important</p> <p>APM does not perform entry-level merging. Conflict resolution operates on the entire vault file. For collaborative use cases, see the team edition.</p>"},{"location":"concepts/cloud-sync/#token-security","title":"Token security","text":"<p>OAuth tokens and Personal Access Tokens are encrypted inside the vault itself using the same AES-256-GCM encryption as your secrets. They are never stored in plaintext on disk.</p>"},{"location":"concepts/cloud-sync/#next-steps","title":"Next steps","text":"<p>See the cloud sync guide for setup instructions, or learn about the plugin architecture.</p>"},{"location":"concepts/encryption/","title":"Encryption","text":"<p>APM uses industry-standard, high-performance cryptographic primitives designed to withstand modern attack vectors, including high-end GPU clusters and dictionary attacks.</p> <p>Note</p> <p>See the vault management guide for an introduction to working with the vault \u2014 this document discusses the cryptographic internals.</p>"},{"location":"concepts/encryption/#key-derivation-argon2id","title":"Key derivation: Argon2id","text":"<p>The master password is never stored. Keys are derived using Argon2id, the winner of the Password Hashing Competition.</p>"},{"location":"concepts/encryption/#how-it-works","title":"How it works","text":"<p>Argon2id is a memory-hard key derivation function that combines the advantages of Argon2i (data- independent memory access, resistant to side-channel attacks) and Argon2d (data-dependent memory access, resistant to GPU cracking).</p> <p>When you enter your master password, APM derives 96 bytes of key material using Argon2id. This material is split into three distinct 32-byte keys:</p> Key Purpose Usage Encryption Key (32 bytes) Data confidentiality AES-256-GCM encryption of vault entries Authentication Key (32 bytes) Data integrity HMAC-SHA256 signature over the vault file Validation Key (32 bytes) Password verification Confirms correct master password on unlock"},{"location":"concepts/encryption/#memory-hard-properties","title":"Memory-hard properties","text":"<p>Argon2id requires significant RAM during key derivation, making it extremely expensive to attack with GPU or ASIC hardware:</p> <ul> <li>Default: 64 MB of RAM per derivation</li> <li>Configurable: Up to 512 MB via security profiles</li> <li>Parallelism: Multi-threaded derivation for faster unlock on modern CPUs</li> </ul>"},{"location":"concepts/encryption/#authenticated-encryption-aes-256-gcm","title":"Authenticated encryption: AES-256-GCM","text":"<p>Confidentiality and integrity are provided by AES-256 in GCM (Galois/Counter Mode).</p>"},{"location":"concepts/encryption/#authenticated-encryption","title":"Authenticated encryption","text":"<p>GCM mode provides both encryption and authentication in a single pass. This means that APM can detect if any part of the encrypted vault has been modified, corrupted, or tampered with \u2014 the decryption will fail with an authentication error rather than silently producing garbage data.</p>"},{"location":"concepts/encryption/#double-layer-integrity","title":"Double-layer integrity","text":"<p>Beyond GCM's built-in authentication tag, APM applies an additional HMAC-SHA256 signature over the entire vault file. This signature is derived from the master password and covers all metadata, providing defense-in-depth against sophisticated tampering attacks.</p>"},{"location":"concepts/encryption/#nonce-integrity","title":"Nonce integrity","text":"<p>Every save operation generates a unique, cryptographically random nonce matched to the encryption operation. This prevents:</p> <ul> <li>Replay attacks: Re-submitting an older version of the vault.</li> <li>Pattern analysis: Detecting whether the same data was encrypted twice.</li> </ul>"},{"location":"concepts/encryption/#threat-model","title":"Threat model","text":"Vector Status Mitigation Offline Brute-Force Protected Argon2id high-cost derivation Vault Tampering Protected HMAC-SHA256 integrity signature across all metadata Credential Theft Protected Cloud tokens are encrypted inside the vault Identity Spoofing Protected Multi-factor recovery (Email -&gt; Secure Token -&gt; Recovery Key) Session Hijacking Protected Shell-scoped sessions (<code>APM_SESSION_ID</code>) and inactivity timeouts Weak Passwords Controlled Enforceable password policies via YAML Policy Engine Compromised Host Not Protected Outside the security boundary (Keyloggers/Malware) <p>Note</p> <p>APM is designed to protect your secrets at rest and during transit to cloud providers. It cannot protect against a fully compromised host machine where an attacker has kernel-level access or has installed keylogging software.</p>"},{"location":"concepts/encryption/#cryptographic-inspection","title":"Cryptographic inspection","text":"<p>You can inspect the current cryptographic parameters of your vault at any time:</p> <pre><code>$ pm cinfo\nCipher: AES-256-GCM\nKDF: Argon2id\nMemory: 64 MB\nIterations: 3\nParallelism: 2\nNonce Size: 12 bytes\n</code></pre>"},{"location":"concepts/encryption/#next-steps","title":"Next steps","text":"<p>See the vault format for details on the on-disk structure, or learn about configurable security profiles.</p>"},{"location":"concepts/mcp/","title":"MCP server","text":"<p>APM includes a high-performance, secure MCP (Model Context Protocol) server that allows AI assistants to interact with your encrypted vault in a safe, controlled manner.</p> <p>Note</p> <p>See the MCP integration guide for setup instructions \u2014 this document discusses the server architecture and security model.</p>"},{"location":"concepts/mcp/#architecture","title":"Architecture","text":"<p>The MCP server acts as a bridge between your local APM vault and an AI client. It implements the Model Context Protocol, exposing specific \"tools\" that the AI can call.</p> <pre><code>[AI Client] &lt;--stdio--&gt; [MCP Server (pm.exe)] &lt;--session--&gt; [Encrypted Vault]\n</code></pre> Component Description CLI Wrapper The <code>pm mcp serve</code> command starts the MCP server using the same binary as the CLI Token Auth Access is controlled via HMAC-signed JWT-like tokens generated with <code>pm mcp token</code> Session Control The server requires an active, unlocked vault session (<code>APM_SESSION_ID</code>) Tool Registry Defines the available operations and their JSON schemas"},{"location":"concepts/mcp/#token-authentication","title":"Token authentication","text":"<p>MCP tokens are HMAC-signed payloads that encode:</p> <ul> <li>Permissions: Which tools the token holder can invoke.</li> <li>Creation timestamp: When the token was generated.</li> <li>Vault binding: Which vault the token is authorized for.</li> </ul> <p>Tokens are generated interactively with <code>pm mcp token</code>, where the user selects the specific permissions to grant.</p>"},{"location":"concepts/mcp/#permission-scopes","title":"Permission scopes","text":"Scope Access Level Tools Available <code>read</code> List and search entries (metadata only) <code>list_vault</code>, <code>search_vault</code> <code>secrets</code> Retrieve full entry details including passwords <code>get_entry</code> <code>totp</code> Generate TOTP codes <code>get_totp</code> <code>write</code> Create new entries <code>add_entry</code> <p>Important</p> <p>Each scope is independent. Granting <code>secrets</code> does not automatically grant <code>read</code> \u2014 both must be explicitly selected during token generation.</p>"},{"location":"concepts/mcp/#tool-registry","title":"Tool registry","text":"<p>The MCP server exposes the following tools:</p>"},{"location":"concepts/mcp/#list_vault","title":"list_vault","text":"<p>Lists all entries in the vault, grouped by category. Returns titles and metadata only \u2014 no secrets are included in the response.</p>"},{"location":"concepts/mcp/#search_vault","title":"search_vault","text":"<p>Performs fuzzy search across entry metadata. Accepts a query string and returns matching entries ranked by relevance.</p>"},{"location":"concepts/mcp/#get_entry","title":"get_entry","text":"<p>Retrieves the full details of a specific entry, including the stored secret. Requires the <code>secrets</code> permission scope.</p>"},{"location":"concepts/mcp/#get_totp","title":"get_totp","text":"<p>Generates a time-based one-time password for a specific entry. Requires the <code>totp</code> permission scope and the entry must have a TOTP seed configured.</p>"},{"location":"concepts/mcp/#add_entry","title":"add_entry","text":"<p>Securely adds a new entry to the vault. Requires the <code>write</code> permission scope.</p>"},{"location":"concepts/mcp/#session-dependency","title":"Session dependency","text":"<p>The MCP server does not handle vault decryption directly. It relies on an active APM session established via <code>pm unlock</code>. If no session is active, all tool calls will fail with an authentication error.</p> <pre><code>Terminal 1: pm unlock\nTerminal 2: AI client starts MCP server\n</code></pre>"},{"location":"concepts/mcp/#security-model","title":"Security model","text":"<ul> <li>No persistent state: The MCP server is stateless \u2014 it does not cache secrets or maintain   connections.</li> <li>Audit trail: All MCP tool invocations are logged in the <code>pm audit</code> log.</li> <li>Token revocation: Tokens can be invalidated by regenerating them.</li> <li>Process isolation: The MCP server runs as a child process of the AI client, inheriting the   session from the shell environment.</li> </ul>"},{"location":"concepts/mcp/#next-steps","title":"Next steps","text":"<p>See the MCP tools reference for full tool schemas, or learn about vault recovery.</p>"},{"location":"concepts/plugins/","title":"Plugins","text":"<p>APM features a declarative, JSON-driven plugin architecture that allows extending the CLI with custom commands and workflows without writing Go code.</p> <p>Note</p> <p>See the plugins guide for an introduction to using plugins \u2014 this document discusses the plugin architecture and permission model.</p>"},{"location":"concepts/plugins/#architecture","title":"Architecture","text":"<p>Plugins are executed through a series of operations (\"ops\"). Each plugin defines:</p> <ol> <li>Metadata: Name, version, description, author.</li> <li>Permissions: Explicit capability requests.</li> <li>Commands: Named command definitions, each containing a sequence of ops.</li> </ol> <pre><code>plugin.json --&gt; [Parser] --&gt; [Permission Check] --&gt; [Op Executor] --&gt; [Output]\n</code></pre> <p>The plugin engine validates requested permissions against the granted capabilities before executing any operation.</p>"},{"location":"concepts/plugins/#permission-model","title":"Permission model","text":"<p>Permissions must be explicitly requested in the plugin manifest's <code>permissions</code> array. APM supports over 150 granular permissions across the following domains:</p> Domain Examples Description Vault <code>vault.read</code>, <code>vault.write</code>, <code>vault.item.*</code> Access to vault entries and fields Network <code>network.outbound</code>, <code>network.http</code>, <code>network.ssh</code> Network protocol access System <code>system.exec</code>, <code>system.env.read</code>, <code>system.clipboard.write</code> OS-level operations Crypto <code>crypto.hash</code>, <code>crypto.encrypt</code>, <code>crypto.key.*</code> Cryptographic operations UI <code>ui.prompt</code>, <code>ui.alert</code>, <code>ui.window.*</code> User interface interactions Audit <code>audit.read</code>, <code>audit.write</code> Audit log access Plugin <code>plugin.list</code>, <code>plugin.config.*</code> Plugin self-management User <code>user.read</code>, <code>user.session.*</code> User and session access"},{"location":"concepts/plugins/#wildcard-matching","title":"Wildcard matching","text":"<p>Permissions support hierarchical wildcard matching:</p> <ul> <li><code>vault.*</code> grants all vault-related permissions.</li> <li><code>vault.item.*</code> grants all item-level permissions.</li> <li><code>vault.item.field.*</code> grants all field-level access (password, username, url, notes, totp, tags,   metadata).</li> </ul>"},{"location":"concepts/plugins/#operation-types","title":"Operation types","text":"<p>Plugins execute through typed operations. Each op takes a list of arguments and optionally assigns results to variables.</p>"},{"location":"concepts/plugins/#vault-operations","title":"Vault operations","text":"Op Args Permission <code>v:get</code> <code>[key, assignTo]</code> <code>vault.read</code> <code>v:add</code> <code>[account, password, username]</code> <code>vault.write</code> <code>v:list</code> <code>[assignTo]</code> <code>vault.read</code> <code>v:del</code> <code>[key]</code> <code>vault.write</code> <code>v:backup</code> <code>[]</code> <code>vault.write</code> <code>v:lock</code> <code>[]</code> None"},{"location":"concepts/plugins/#system-operations","title":"System operations","text":"Op Args Permission <code>s:out</code> <code>[message]</code> None <code>s:in</code> <code>[prompt, assignTo]</code> None <code>s:clip</code> <code>[text]</code> <code>system.write</code> <code>s:sleep</code> <code>[seconds]</code> None"},{"location":"concepts/plugins/#network-operations","title":"Network operations","text":"Op Args Permission <code>net:get</code> <code>[url, assignTo]</code> <code>network.outbound</code> <code>net:post</code> <code>[url, payload, assignTo]</code> <code>network.outbound</code>"},{"location":"concepts/plugins/#crypto-operations","title":"Crypto operations","text":"Op Args Permission <code>crypto:hash</code> <code>[data, assignTo]</code> <code>crypto.use</code>"},{"location":"concepts/plugins/#variable-substitution","title":"Variable substitution","text":"<p>Variables stored via <code>assignTo</code> can be referenced in any subsequent argument using the <code>{{name}}</code> template syntax.</p>"},{"location":"concepts/plugins/#system-variables","title":"System variables","text":"<p>The following variables are available at runtime without explicit assignment:</p> Variable Description <code>{{USER}}</code> Current OS username <code>{{OS}}</code> Operating system identifier <code>{{TIMESTAMP}}</code> Current UTC timestamp"},{"location":"concepts/plugins/#storage","title":"Storage","text":"<p>Plugins are stored in the <code>plugins_cache/</code> directory and dynamically register commands on startup.</p>"},{"location":"concepts/plugins/#installation-sources","title":"Installation sources","text":"Source Command Description Marketplace <code>pm plugins add &lt;name&gt;</code> Install from cloud-synced marketplace Local <code>pm plugins local &lt;path&gt;</code> Load from local filesystem"},{"location":"concepts/plugins/#next-steps","title":"Next steps","text":"<p>See the Plugin API reference for the complete operations glossary and permissions listing. Or, learn about the MCP server.</p>"},{"location":"concepts/policy-engine/","title":"Policy engine","text":"<p>APM enforces security standards through a flexible, YAML-based policy engine. Policies define requirements for password complexity, rotation schedules, and other compliance rules.</p> <p>Note</p> <p>See the vault management guide for an introduction to working with the vault \u2014 this document discusses policy enforcement in depth.</p>"},{"location":"concepts/policy-engine/#how-policies-work","title":"How policies work","text":"<p>Policies are YAML files that define security rules. When a policy is active, APM validates entries against these rules during <code>pm add</code> and reports violations during <code>pm health</code> audits.</p>"},{"location":"concepts/policy-engine/#policy-file-format","title":"Policy file format","text":"<p>A typical policy file:</p> <pre><code>name: corporate-standard\nversion: 1.0\n\npassword:\n  min_length: 14\n  require_uppercase: true\n  require_lowercase: true\n  require_digits: true\n  require_symbols: true\n  max_age_days: 90\n  disallow_reuse: 5\n\naudit:\n  require_rotation_check: true\n  alert_on_weak: true\n</code></pre>"},{"location":"concepts/policy-engine/#loading-a-policy","title":"Loading a policy","text":"<p>Load a policy file into the active vault:</p> <pre><code>$ pm policy load ./policies/corporate-standard.yaml\nPolicy \"corporate-standard\" loaded successfully.\n</code></pre>"},{"location":"concepts/policy-engine/#inspecting-the-active-policy","title":"Inspecting the active policy","text":"<p>Display the currently active policy:</p> <pre><code>$ pm policy show\nActive Policy: corporate-standard v1.0\n\nPassword Requirements:\n  Min Length:        14\n  Uppercase:         Required\n  Lowercase:         Required\n  Digits:            Required\n  Symbols:           Required\n  Max Age:           90 days\n  Reuse Prevention:  Last 5\n</code></pre>"},{"location":"concepts/policy-engine/#clearing-a-policy","title":"Clearing a policy","text":"<p>Remove the active policy:</p> <pre><code>$ pm policy clear\nPolicy cleared.\n</code></pre>"},{"location":"concepts/policy-engine/#policy-enforcement","title":"Policy enforcement","text":""},{"location":"concepts/policy-engine/#during-entry-creation","title":"During entry creation","text":"<p>When adding a new password entry, APM validates the password against the active policy:</p> <pre><code>$ pm add\n? Select category: Password\n? Account name: Production DB\n? Password: weak\n\nPolicy violation: Password must be at least 14 characters.\nPolicy violation: Password must contain uppercase letters.\nPolicy violation: Password must contain digits.\nPolicy violation: Password must contain symbols.\n</code></pre>"},{"location":"concepts/policy-engine/#during-health-audits","title":"During health audits","text":"<p>The <code>pm health</code> command reports policy violations across your entire vault:</p> <pre><code>$ pm health\nSecurity Score: 72/100\n\nViolations:\n  - 3 passwords below minimum length\n  - 5 passwords older than 90 days\n  - 2 passwords missing required symbols\n</code></pre>"},{"location":"concepts/policy-engine/#next-steps","title":"Next steps","text":"<p>See the sessions concept for details on session management, or learn about cloud synchronization.</p>"},{"location":"concepts/recovery/","title":"Recovery","text":"<p>APM features a robust recovery engine designed for zero-knowledge environments. The recovery process allows you to regain access to your vault if you forget your master password, without compromising the security model.</p>"},{"location":"concepts/recovery/#recovery-flow","title":"Recovery flow","text":"<p>The recovery process is a multi-step identity verification flow:</p> <pre><code>[Forgot Password]\n      |\n      v\n[pm auth recover]\n      |\n      v\n[Email Verification] --&gt; [Secure Token Sent]\n      |\n      v\n[Token Entry] --&gt; [Token Validated (SHA-256)]\n      |\n      v\n[Recovery Key Entry] --&gt; [DEK Unlocked]\n      |\n      v\n[New Master Password] --&gt; [Vault Re-encrypted]\n</code></pre>"},{"location":"concepts/recovery/#secure-tokens","title":"Secure tokens","text":"<p>When you initiate recovery, APM generates a 32-byte cryptographically secure hex token and sends it to your registered email address.</p> <ul> <li>Tokens are stored only in hashed form (SHA-256) \u2014 the plaintext token exists only in the   email.</li> <li>Tokens expire after 15 minutes.</li> <li>Each recovery attempt generates a new token, invalidating any previous ones.</li> </ul>"},{"location":"concepts/recovery/#recovery-key","title":"Recovery key","text":"<p>During vault initialization (<code>pm init</code>), you are prompted to set an optional recovery key. This key is stored in the vault header using XOR-obfuscation, preventing simple memory dumps from exposing it.</p> <p>Important</p> <p>The recovery key is the only way to recover your vault if you forget your master password. If you did not set a recovery key during initialization and you forget your master password, your vault data is unrecoverable. This is an intentional property of zero-knowledge architecture.</p>"},{"location":"concepts/recovery/#dek-unlocking","title":"DEK unlocking","text":"<p>Successful identity verification (email token + recovery key) unlocks the Data Encryption Key (DEK). This allows APM to:</p> <ol> <li>Decrypt the vault with the existing DEK.</li> <li>Prompt for a new master password.</li> <li>Re-derive encryption keys from the new master password.</li> <li>Re-encrypt the vault with the new keys.</li> <li>Update the vault metadata and HMAC signature.</li> </ol> <p>The underlying data is never exposed in plaintext during this process \u2014 decryption and re-encryption happen in memory.</p>"},{"location":"concepts/recovery/#identity-verification","title":"Identity verification","text":"<p>APM supports identity verification through the <code>pm auth</code> command group:</p> Command Description <code>pm auth email</code> Update the registered email address <code>pm auth reset</code> Reset the master password (requires current password) <code>pm auth change</code> Change the master password <code>pm auth recover</code> Initiate the recovery flow"},{"location":"concepts/recovery/#security-considerations","title":"Security considerations","text":"<ul> <li>Offline attacks: Recovery tokens are hashed, so intercepting the vault file does not reveal   valid tokens.</li> <li>Brute-force: The 32-byte token space (256 bits of entropy) makes brute-force infeasible.</li> <li>Time-limited: The 15-minute expiration window limits the attack surface.</li> <li>Single-use: Each recovery attempt invalidates all previous tokens.</li> </ul>"},{"location":"concepts/recovery/#next-steps","title":"Next steps","text":"<p>See the encryption concept for details on the key derivation and encryption architecture, or learn about sessions for day-to-day vault access.</p>"},{"location":"concepts/secret-types/","title":"Secret types","text":"<p>APM supports 22 distinct data structures, each with specialized fields optimized for the type of secret being stored.</p> <p>Note</p> <p>See the vault management guide for an introduction to adding entries \u2014 this document provides a comprehensive listing of all supported types.</p>"},{"location":"concepts/secret-types/#categories","title":"Categories","text":"<p>When using <code>pm add</code>, you are presented with an interactive category selector. Each category has its own set of fields tailored to the data it stores.</p>"},{"location":"concepts/secret-types/#credentials","title":"Credentials","text":"# Category Primary Fields Description 1 Passwords Account, Username, Password, URL Standard login credentials 2 TOTP Account, TOTP Secret, Issuer Time-based one-time password seeds 3 API Keys Service, Key, Secret, Endpoint REST/GraphQL API authentication 4 Tokens Service, Token, Expiry Bearer tokens, refresh tokens, JWTs"},{"location":"concepts/secret-types/#infrastructure","title":"Infrastructure","text":"# Category Primary Fields Description 5 SSH Keys Host, Username, Private Key, Passphrase SSH key pairs 6 SSH Configs Host, Port, Username, Identity File SSH config snippets 7 Cloud Creds Provider, Access Key, Secret Key, Region AWS, GCP, Azure credentials 8 Kubernetes Cluster, Namespace, Token, CA Cert K8s authentication secrets 9 Docker Registry, Username, Password Docker registry credentials 10 CI/CD Pipeline, Provider, Token, Webhook CI/CD pipeline secrets 11 Certificates Domain, Certificate, Private Key, Expiry TLS/SSL certificates"},{"location":"concepts/secret-types/#network","title":"Network","text":"# Category Primary Fields Description 12 Wi-Fi SSID, Password, Security Type Wireless network credentials"},{"location":"concepts/secret-types/#personal","title":"Personal","text":"# Category Primary Fields Description 13 Government IDs Type, Number, Issuing Authority, Expiry Passports, driver's licenses, etc. 14 Medical Provider, Record Type, Policy Number Health records and insurance 15 Travel Type, Document Number, Country, Expiry Visa, boarding pass, loyalty cards 16 Contacts Name, Phone, Email, Address Personal or professional contacts 17 Banking Bank, Account Number, Routing, SWIFT Financial account details"},{"location":"concepts/secret-types/#documents","title":"Documents","text":"# Category Primary Fields Description 18 Notes Title, Content Freeform secure text 19 Recovery Codes Service, Codes Backup recovery codes 20 Documents Title, Content, Filename Secure document attachments 21 Software Licenses Product, License Key, Seats, Expiry Software license keys 22 Legal Type, Parties, Date, Content Contracts, NDAs, agreements"},{"location":"concepts/secret-types/#field-types","title":"Field types","text":"<p>Each entry, regardless of category, shares a common metadata layer:</p> Field Description Name Display name for the entry Category One of the 22 categories above Namespace Which namespace the entry belongs to Created Timestamp of creation Modified Timestamp of last modification Tags Optional tags for search and organization Priority Entry priority level"},{"location":"concepts/secret-types/#next-steps","title":"Next steps","text":"<p>See the vault management guide for how to add entries, or learn about the policy engine that validates entries against security standards.</p>"},{"location":"concepts/security-profiles/","title":"Security profiles","text":"<p>APM allows users to select from pre-defined and custom encryption profiles to balance security strength and unlock latency.</p> <p>Note</p> <p>See the encryption concept for details on the underlying cryptographic primitives \u2014 this document focuses on profile configuration.</p>"},{"location":"concepts/security-profiles/#pre-defined-profiles","title":"Pre-defined profiles","text":"Profile Memory Time (Iterations) Parallelism Nonce Size Use Case Standard 64 MB 3 2 12 bytes Default for most users Hardened 256 MB 5 4 12 bytes High-value credentials Paranoid 512 MB 6 4 24 bytes Maximum security, slower unlock Legacy 0 (PBKDF2) 600,000 1 12 bytes Backward compatibility only"},{"location":"concepts/security-profiles/#selecting-a-profile","title":"Selecting a profile","text":"<p>Switch to a different profile using <code>pm profile set</code>:</p> <pre><code>$ pm profile set hardened\nSecurity profile updated to \"Hardened\".\nVault re-encrypted with new parameters.\n</code></pre> <p>Important</p> <p>Changing the security profile re-derives all encryption keys and re-encrypts the entire vault. This operation requires the master password and may take several seconds depending on the selected profile.</p>"},{"location":"concepts/security-profiles/#listing-profiles","title":"Listing profiles","text":"<p>View available profiles:</p> <pre><code>$ pm profile list\n  Standard  (active)\n  Hardened\n  Paranoid\n  Legacy\n  MyCustom\n</code></pre>"},{"location":"concepts/security-profiles/#custom-profiles","title":"Custom profiles","text":"<p>For advanced users, APM allows creating custom security profiles with specific Argon2id parameters.</p>"},{"location":"concepts/security-profiles/#creating-a-custom-profile","title":"Creating a custom profile","text":"<p>Use <code>pm sec_profile create</code> for interactive tuning:</p> <pre><code>$ pm sec_profile create\n? Profile name: UltraSecure\n? Memory (MB): 384\n? Iterations: 8\n? Parallelism: 4\n\nProfile \"UltraSecure\" created.\nEstimated unlock time: ~2.1s\n</code></pre>"},{"location":"concepts/security-profiles/#parameter-guidance","title":"Parameter guidance","text":"Parameter Description Impact Memory RAM required during key derivation (MB) Higher = more GPU-resistant, slower unlock Iterations Number of Argon2id passes Higher = more CPU time, slower unlock Parallelism Number of threads used Higher = faster on multi-core, same security <p>Tip</p> <p>As a general rule, set the memory as high as your system can comfortably handle, then adjust iterations until the unlock time is acceptable for your workflow. Parallelism should match your CPU core count.</p>"},{"location":"concepts/security-profiles/#legacy-profile","title":"Legacy profile","text":"<p>The Legacy profile uses PBKDF2 instead of Argon2id for backward compatibility with older vault formats. It is not recommended for new vaults:</p> <ul> <li>PBKDF2 with 600,000 iterations</li> <li>Not memory-hard: vulnerable to GPU-based attacks</li> <li>Single-threaded: cannot leverage modern multi-core CPUs</li> </ul> <p>Important</p> <p>If you are using the Legacy profile, consider migrating to Standard or higher. Use <code>pm profile set standard</code> to upgrade your vault's cryptographic parameters.</p>"},{"location":"concepts/security-profiles/#next-steps","title":"Next steps","text":"<p>See the encryption concept for the full cryptographic architecture, or learn about the policy engine for enforcing organizational security standards.</p>"},{"location":"concepts/sessions/","title":"Sessions","text":"<p>APM uses shell-scoped sessions to provide secure, time-limited access to the decrypted vault. Sessions prevent the need to enter the master password for every operation.</p> <p>Note</p> <p>See the sessions guide for an introduction to working with sessions \u2014 this document discusses the session architecture in depth.</p>"},{"location":"concepts/sessions/#session-architecture","title":"Session architecture","text":"<p>When you run <code>pm unlock</code>, APM:</p> <ol> <li>Derives the encryption keys from your master password using Argon2id.</li> <li>Validates the keys against the vault's stored validation hash.</li> <li>Generates a unique session ID and stores the derived keys in a temporary, secure location.</li> <li>Sets the <code>APM_SESSION_ID</code> environment variable in the current shell.</li> </ol> <p>Subsequent commands read the <code>APM_SESSION_ID</code> to retrieve the cached keys, bypassing the key derivation step.</p>"},{"location":"concepts/sessions/#shell-scoping","title":"Shell scoping","text":"<p>Sessions are scoped to the shell process via the <code>APM_SESSION_ID</code> environment variable:</p> Property Behavior Isolation Each terminal has its own independent session Inheritance Child processes inherit the session from the parent shell Termination Closing the terminal invalidates the session Cross-shell Sessions cannot be shared across different shell instances"},{"location":"concepts/sessions/#inactivity-timeout","title":"Inactivity timeout","text":"<p>Sessions automatically expire after a configurable period of inactivity. The default timeout is 1 hour.</p> <p>After expiration, the next vault operation will:</p> <ol> <li>Detect the expired session.</li> <li>Wipe the cached keys from memory.</li> <li>Prompt for the master password.</li> </ol>"},{"location":"concepts/sessions/#session-lifecycle","title":"Session lifecycle","text":"<pre><code>pm unlock\n  |\n  v\n[Master Password] --&gt; [Argon2id KDF] --&gt; [Key Validation] --&gt; [Session Created]\n                                                                     |\n                                                                     v\n                                                              [APM_SESSION_ID set]\n                                                                     |\n                                                          +----------+----------+\n                                                          |                     |\n                                                     [pm get, pm add, ...]  [Timeout]\n                                                          |                     |\n                                                          v                     v\n                                                     [Keys from cache]   [Session Expired]\n                                                                                |\n                                                                                v\n                                                                         [pm lock / auto]\n                                                                                |\n                                                                                v\n                                                                         [Memory Wiped]\n</code></pre>"},{"location":"concepts/sessions/#locking","title":"Locking","text":"<p><code>pm lock</code> immediately:</p> <ol> <li>Wipes the derived keys from the secure temporary storage.</li> <li>Clears the <code>APM_SESSION_ID</code> environment variable.</li> <li>Any subsequent vault operations require re-entering the master password.</li> </ol>"},{"location":"concepts/sessions/#security-considerations","title":"Security considerations","text":"<ul> <li>Session keys are stored in memory-only temporary locations, not on disk.</li> <li>The <code>APM_SESSION_ID</code> value itself is not a secret \u2014 it is an index into the secure key store,   not the key itself.</li> <li>On lock, keys are overwritten with zeros before deallocation.</li> </ul>"},{"location":"concepts/sessions/#next-steps","title":"Next steps","text":"<p>See the encryption concept for details on the key derivation process, or learn about cloud synchronization.</p>"},{"location":"concepts/vault-format/","title":"Vault format","text":"<p>APM stores all secrets in a single encrypted vault file using the V4 format. This document describes the on-disk structure.</p> <p>Note</p> <p>See the encryption concept for details on the cryptographic primitives used \u2014 this document focuses on the file format.</p>"},{"location":"concepts/vault-format/#file-location","title":"File location","text":"<p>The default vault file location is platform-dependent:</p> WindowsmacOS and Linux <pre><code>%USERPROFILE%\\.apm\\vault.dat\n</code></pre> <pre><code>~/.apm/vault.dat\n</code></pre> <p>The location can be overridden with the <code>APM_VAULT_PATH</code> environment variable. See the environment variables reference for details.</p>"},{"location":"concepts/vault-format/#v4-structure","title":"V4 structure","text":"<p>The vault file consists of two layers:</p>"},{"location":"concepts/vault-format/#unencrypted-header-signed","title":"Unencrypted header (signed)","text":"<p>The header contains metadata necessary for vault operations without requiring decryption:</p> Field Size Description Magic bytes 4 bytes File type identifier (<code>APM4</code>) Version 1 byte Format version (currently <code>4</code>) KDF parameters Variable Argon2id memory, iterations, parallelism Salt 32 bytes Random salt for key derivation Nonce 12-24 bytes Unique nonce for this encryption cycle Recovery metadata Variable Hashed recovery tokens and obfuscated keys HMAC signature 32 bytes HMAC-SHA256 over the entire header <p>Important</p> <p>The header is not encrypted, but it is signed. Any modification to the header will be detected by the HMAC verification on unlock, preventing parameter downgrade attacks.</p>"},{"location":"concepts/vault-format/#encrypted-payload","title":"Encrypted payload","text":"<p>The payload contains all vault entries encrypted with AES-256-GCM:</p> Field Description Entries Array of structured secret entries (see secret types) Namespace metadata Namespace assignments and labels Audit log Tamper-evident interaction history Plugin data Plugin-specific storage"},{"location":"concepts/vault-format/#atomic-saves","title":"Atomic saves","text":"<p>Vault modifications use an atomic write pattern:</p> <ol> <li>Write the new vault to a temporary file.</li> <li>Verify the temporary file is valid and complete.</li> <li>Atomically replace the old vault with the new one.</li> </ol> <p>This prevents data corruption during power loss or process termination.</p>"},{"location":"concepts/vault-format/#recovery-key-storage","title":"Recovery key storage","text":"<p>Recovery keys are stored using XOR-obfuscation within the vault header, preventing simple memory dumps from exposing them. See the recovery concept for the full recovery flow.</p>"},{"location":"concepts/vault-format/#next-steps","title":"Next steps","text":"<p>See the secret types for details on what data structures are stored in the payload, or learn about security profiles that control KDF parameters.</p>"},{"location":"getting-started/","title":"Getting started","text":"<p>To help you get started with APM, we'll cover a few important topics:</p> <ul> <li>Installing APM</li> <li>First steps after installation</li> <li>An overview of APM's features</li> <li>How to get help</li> </ul> <p>Read on, or jump ahead to another section:</p> <ul> <li>Get going quickly with guides for common workflows.</li> <li>Learn more about the core concepts in APM.</li> <li>Use the reference documentation to find details about something specific.</li> </ul>"},{"location":"getting-started/features/","title":"Features","text":"<p>APM provides essential features for credential management \u2014 from storing simple passwords to managing complex infrastructure secrets across teams.</p> <p>APM's interface can be broken down into sections, which are usable independently or together.</p>"},{"location":"getting-started/features/#vault-management","title":"Vault Management","text":"<p>Creating, storing, and retrieving secrets in your encrypted vault.</p> <ul> <li><code>pm init</code>: Initialize a new zero-knowledge encrypted vault.</li> <li><code>pm add</code>: Interactive menu to store any of the 22 supported secret types.</li> <li><code>pm get [query]</code>: Fuzzy search and display entry details.</li> <li><code>pm edit [name]</code>: Interactive modification of existing entry metadata.</li> <li><code>pm del [name]</code>: Permanent deletion of an entry from the vault.</li> <li><code>pm gen</code>: High-entropy password generator.</li> </ul> <p>See the vault management guide to get started.</p>"},{"location":"getting-started/features/#session-management","title":"Session Management","text":"<p>Controlling access to your decrypted vault.</p> <ul> <li><code>pm unlock</code>: Start a session-scoped unlock instance with inactivity timeout.</li> <li><code>pm lock</code>: Immediately terminate and wipe the active session.</li> </ul> <p>See the sessions guide to get started.</p>"},{"location":"getting-started/features/#totp","title":"TOTP","text":"<p>Generating time-based one-time passwords.</p> <ul> <li><code>pm totp show</code>: Real-time generation of 2FA codes with live countdowns.</li> </ul> <p>See the TOTP guide to get started.</p>"},{"location":"getting-started/features/#cloud-synchronization","title":"Cloud Synchronization","text":"<p>Syncing your vault across devices using cloud providers.</p> <ul> <li><code>pm cloud init &lt;provider&gt;</code>: Set up synchronization with Google Drive, GitHub, or Dropbox.</li> <li><code>pm cloud push</code>: Upload the vault to the configured provider.</li> <li><code>pm cloud pull</code>: Download and merge the vault from the provider.</li> </ul> <p>See the cloud sync guide to get started.</p>"},{"location":"getting-started/features/#authentication-recovery","title":"Authentication &amp; Recovery","text":"<p>Managing your master password and recovery options.</p> <ul> <li><code>pm auth email</code>: Update the associated email address.</li> <li><code>pm auth reset</code>: Reset the master password (requires current password).</li> <li><code>pm auth change</code>: Change the master password.</li> <li><code>pm auth recover</code>: Recover vault access via recovery key and identity verification.</li> </ul> <p>See the recovery concept for details.</p>"},{"location":"getting-started/features/#security-auditing","title":"Security &amp; Auditing","text":"<p>Inspecting the security posture of your vault.</p> <ul> <li><code>pm health</code>: Dashboard with security scoring and vulnerability reporting.</li> <li><code>pm audit</code>: Tamper-evident log of every vault interaction.</li> <li><code>pm cinfo</code>: Inspect current vault cryptographic parameters.</li> </ul> <p>See the encryption concept for details.</p>"},{"location":"getting-started/features/#import-export","title":"Import &amp; Export","text":"<p>Migrating data to and from APM.</p> <ul> <li><code>pm import</code>: Ingest data from external files (JSON, CSV, KDBX).</li> <li><code>pm export</code>: Securely dump vault data to encrypted or plaintext formats.</li> </ul> <p>See the import/export guide to get started.</p>"},{"location":"getting-started/features/#policy-compliance","title":"Policy &amp; Compliance","text":"<p>Enforcing organizational security standards.</p> <ul> <li><code>pm policy load</code>: Load a YAML-based password policy.</li> <li><code>pm policy show</code>: Display the active policy.</li> <li><code>pm policy clear</code>: Remove the active policy.</li> </ul> <p>See the policy engine concept for details.</p>"},{"location":"getting-started/features/#plugins","title":"Plugins","text":"<p>Extending APM with declarative plugins.</p> <ul> <li><code>pm plugins add &lt;name&gt;</code>: Install a plugin from the marketplace.</li> <li><code>pm plugins local &lt;path&gt;</code>: Install a plugin from a local directory.</li> <li><code>pm plugins list</code>: List installed plugins.</li> <li><code>pm plugins remove &lt;name&gt;</code>: Uninstall a plugin.</li> </ul> <p>See the plugins guide to get started.</p>"},{"location":"getting-started/features/#mcp-server","title":"MCP Server","text":"<p>Connecting AI assistants to your vault.</p> <ul> <li><code>pm mcp token</code>: Generate an access token with granular permissions.</li> <li><code>pm mcp serve</code>: Start the Model Context Protocol server.</li> <li><code>pm mcp config</code>: Display the configuration snippet for your AI client.</li> </ul> <p>See the MCP integration guide to get started.</p>"},{"location":"getting-started/features/#namespaces","title":"Namespaces","text":"<p>Organizing secrets into isolated compartments.</p> <ul> <li><code>pm space list</code>: List all namespaces.</li> <li><code>pm space create &lt;name&gt;</code>: Create a new namespace.</li> <li><code>pm space switch &lt;name&gt;</code>: Switch to a different namespace.</li> </ul> <p>See the vault management guide for details.</p>"},{"location":"getting-started/features/#security-profiles","title":"Security Profiles","text":"<p>Tuning encryption strength.</p> <ul> <li><code>pm profile list</code>: List available security profiles.</li> <li><code>pm profile set &lt;name&gt;</code>: Switch to a different profile.</li> <li><code>pm sec_profile create</code>: Create a custom security profile.</li> </ul> <p>See the security profiles concept for details.</p>"},{"location":"getting-started/features/#utility","title":"Utility","text":"<p>Managing APM itself.</p> <ul> <li><code>pm info</code>: Display version, install path, and environment details.</li> <li><code>pm update</code>: Automated self-update engine to fetch the latest builds.</li> </ul>"},{"location":"getting-started/features/#the-team-interface","title":"The Team Interface","text":"<p>Managing credentials across organizations with RBAC.</p> <ul> <li><code>pm-team init</code>: Set up an organization.</li> <li><code>pm-team dept</code>: Manage departments as isolated encryption domains.</li> <li><code>pm-team user</code>: Onboard and manage team members.</li> <li><code>pm-team approvals</code>: Handle pending sensitive entry requests.</li> </ul> <p>See the team edition documentation to get started.</p>"},{"location":"getting-started/features/#next-steps","title":"Next steps","text":"<p>Read the guides for an introduction to each feature, check out the concept pages for in-depth details about APM's features, or learn how to get help if you run into any problems.</p>"},{"location":"getting-started/first-steps/","title":"First steps with APM","text":"<p>After installing APM, you can check that APM is available by running the <code>pm</code> command:</p> <pre><code>$ pm\nAPM - Advanced Password Manager\n\nUsage: pm &lt;command&gt; [flags]\n\nCommands:\n  init       Initialize a new encrypted vault\n  add        Add a new secret entry\n  get        Search and retrieve entries\n  ...\n</code></pre> <p>You should see a help menu listing the available commands.</p>"},{"location":"getting-started/first-steps/#initialize-your-vault","title":"Initialize your vault","text":"<p>Create a new encrypted vault with <code>pm init</code>:</p> <pre><code>$ pm init\n? Set a Master Password: ********\n? Confirm Master Password: ********\n? Set a Recovery Key (optional): ********\n\nVault initialized successfully.\n</code></pre> <p>Important</p> <p>Your master password is never stored. If you lose it and do not have a recovery key, your vault data cannot be recovered. This is by design (zero-knowledge architecture).</p>"},{"location":"getting-started/first-steps/#add-your-first-entry","title":"Add your first entry","text":"<p>Store a credential using <code>pm add</code>:</p> <pre><code>$ pm add\n? Select category: Password\n? Account name: GitHub\n? Username: aarav@example.com\n? Password: ********\n\nEntry added successfully.\n</code></pre>"},{"location":"getting-started/first-steps/#retrieve-an-entry","title":"Retrieve an entry","text":"<p>Search and display entries using <code>pm get</code>:</p> <pre><code>$ pm get github\n+----------+----------------------+\n| Account  | GitHub               |\n| Username | aarav@example.com    |\n| Category | Password             |\n+----------+----------------------+\n</code></pre> <p>Use the <code>--show-pass</code> flag to reveal the stored secret.</p>"},{"location":"getting-started/first-steps/#next-steps","title":"Next steps","text":"<p>Now that you've confirmed APM is installed and working, check out an overview of features, learn how to get help if you run into any problems, or jump to the guides to start using APM.</p>"},{"location":"getting-started/help/","title":"Getting help","text":""},{"location":"getting-started/help/#help-menus","title":"Help menus","text":"<p>The <code>--help</code> flag can be used to view the help menu for a command, e.g., for <code>pm</code>:</p> <pre><code>$ pm --help\n</code></pre> <p>To view the help menu for a specific command, e.g., for <code>pm add</code>:</p> <pre><code>$ pm add --help\n</code></pre>"},{"location":"getting-started/help/#viewing-the-version","title":"Viewing the version","text":"<p>When seeking help, it's important to determine the version of APM that you're using \u2014 sometimes the problem is already solved in a newer version.</p> <p>To check the installed version and environment details:</p> <pre><code>$ pm info\nAPM v9.2\nOS: windows/amd64\nVault: ~/.apm/vault.dat\nProfile: Standard\n</code></pre>"},{"location":"getting-started/help/#viewing-cryptographic-info","title":"Viewing cryptographic info","text":"<p>To inspect the cryptographic parameters of your current vault:</p> <pre><code>$ pm cinfo\nCipher: AES-256-GCM\nKDF: Argon2id\nMemory: 64 MB\nIterations: 3\nParallelism: 2\n</code></pre>"},{"location":"getting-started/help/#troubleshooting-issues","title":"Troubleshooting issues","text":"<p>The reference documentation contains information about storage locations and environment variables that may help debug common issues.</p>"},{"location":"getting-started/help/#open-an-issue-on-github","title":"Open an issue on GitHub","text":"<p>The issue tracker on GitHub is a good place to report bugs and request features. Make sure to search for similar issues first, as it is common for someone else to encounter the same problem.</p>"},{"location":"getting-started/help/#contact","title":"Contact","text":"<p>For security-related concerns, contact aaravmaloo06@gmail.com directly.</p>"},{"location":"getting-started/installation/","title":"Installing APM","text":""},{"location":"getting-started/installation/#installation-methods","title":"Installation methods","text":"<p>Install APM by building from source or downloading a pre-built binary from GitHub Releases.</p>"},{"location":"getting-started/installation/#build-from-source","title":"Build from source","text":"<p>Clone the repository and build the binary with Go:</p> WindowsmacOS and Linux <pre><code>PS&gt; git clone https://github.com/aaravmaloo/apm.git\nPS&gt; cd apm\nPS&gt; go build -o pm.exe main.go\n</code></pre> <pre><code>$ git clone https://github.com/aaravmaloo/apm.git\n$ cd apm\n$ go build -o pm main.go\n</code></pre>"},{"location":"getting-started/installation/#build-requirements","title":"Build requirements","text":"<ul> <li>Go 1.21 or later</li> <li>Git for cloning the repository</li> <li>Windows, macOS, or Linux</li> </ul>"},{"location":"getting-started/installation/#github-releases","title":"GitHub Releases","text":"<p>Pre-built binaries can be downloaded directly from GitHub Releases.</p> <p>Each release includes binaries for all supported platforms.</p>"},{"location":"getting-started/installation/#upgrading-apm","title":"Upgrading APM","text":"<p>APM includes a self-update engine that fetches the latest builds:</p> <pre><code>$ pm update\nChecking for updates...\nUpdated to v9.2 successfully.\n</code></pre> <p>Tip</p> <p>You can check the currently installed version with <code>pm info</code> before updating.</p>"},{"location":"getting-started/installation/#adding-to-path","title":"Adding to PATH","text":"<p>After building or downloading the binary, ensure it is available on your system <code>PATH</code>:</p> WindowsmacOS and Linux <p>Move <code>pm.exe</code> to a directory in your <code>PATH</code>, or add the build directory:</p> <pre><code>PS&gt; $env:PATH += \";C:\\path\\to\\apm\"\n</code></pre> <p>To make this permanent, add the directory via System Properties &gt; Environment Variables.</p> <p>Move the binary to a directory in your <code>PATH</code>:</p> <pre><code>$ sudo mv pm /usr/local/bin/\n</code></pre> <p>Or add the build directory to your shell profile:</p> <pre><code>$ echo 'export PATH=\"$PATH:/path/to/apm\"' &gt;&gt; ~/.bashrc\n</code></pre>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove APM from your system:</p> <ol> <li> <p>Remove the binary:</p> WindowsmacOS and Linux <pre><code>PS&gt; Remove-Item C:\\path\\to\\pm.exe\n</code></pre> <pre><code>$ rm /usr/local/bin/pm\n</code></pre> </li> <li> <p>Optionally, remove stored vault data:</p> WindowsmacOS and Linux <pre><code>PS&gt; Remove-Item -Recurse $HOME\\.apm\n</code></pre> <pre><code>$ rm -rf ~/.apm\n</code></pre> <p>Important</p> <p>This will permanently delete your encrypted vault and all stored credentials. Ensure you have a backup via <code>pm export</code> or <code>pm cloud push</code> before removing data.</p> </li> </ol>"},{"location":"getting-started/installation/#next-steps","title":"Next steps","text":"<p>See the first steps or jump straight to the guides to start using APM.</p>"},{"location":"guides/","title":"Guides overview","text":"<p>Check out one of the core guides to get started:</p> <ul> <li>Managing your vault</li> <li>Cloud synchronization</li> <li>Generating TOTP codes</li> <li>Managing sessions</li> <li>Using plugins</li> <li>MCP integration with AI assistants</li> <li>Getting started with the Team Edition</li> <li>Importing and exporting data</li> </ul> <p>Or, explore the concept documentation for a comprehensive breakdown of each feature.</p>"},{"location":"guides/cloud-sync/","title":"Cloud synchronization","text":"<p>APM provides native multi-cloud synchronization to keep your vault available across all your trusted devices. Three providers are supported: Google Drive, GitHub, and Dropbox.</p>"},{"location":"guides/cloud-sync/#provider-comparison","title":"Provider comparison","text":"Feature Google Drive GitHub Dropbox Authentication OAuth2 (PKCE) Personal Access Token OAuth2 (PKCE) Storage Type Application Data Folder Private Repository Application Folder Setup Speed Instant Manual (Token required) Instant Privacy Level High (Isolated from files) Exceptional (Git History) High (Isolated from files) Version History Limited (Drive native) Comprehensive (Git Commits) Limited (Dropbox native) Recommended For Mobile users and fast sync Developers and power users Cross-platform persistence"},{"location":"guides/cloud-sync/#setting-up-google-drive","title":"Setting up Google Drive","text":"<p>Initialize Google Drive synchronization:</p> <pre><code>$ pm cloud init gdrive\nLaunching browser for Google OAuth...\nAuthorization successful.\nGoogle Drive sync initialized.\n</code></pre> <p>APM stores your vault in an isolated Application Data Folder that is not visible in your regular Google Drive files.</p>"},{"location":"guides/cloud-sync/#setting-up-github","title":"Setting up GitHub","text":"<p>Initialize GitHub synchronization:</p> <pre><code>$ pm cloud init github\n? GitHub Personal Access Token: ghp_xxxxxxxxxxxx\n? Repository name: vault-backup\n\nGitHub sync initialized.\n</code></pre> <p>Tip</p> <p>Use a dedicated private repository for vault storage. The vault file is always encrypted, but using a private repository adds an additional layer of access control.</p>"},{"location":"guides/cloud-sync/#setting-up-dropbox","title":"Setting up Dropbox","text":"<p>Initialize Dropbox synchronization:</p> <pre><code>$ pm cloud init dropbox\nLaunching browser for Dropbox OAuth...\nAuthorization successful.\nDropbox sync initialized.\n</code></pre>"},{"location":"guides/cloud-sync/#setting-up-all-providers","title":"Setting up all providers","text":"<p>Initialize all providers simultaneously:</p> <pre><code>$ pm cloud init all\n</code></pre> <p>This runs the setup flow for each provider in sequence.</p>"},{"location":"guides/cloud-sync/#custom-retrieval-keys","title":"Custom retrieval keys","text":"<p>You can set a custom retrieval key during initialization:</p> <pre><code>$ pm cloud init gdrive --key my-vault-key\n</code></pre> <p>Or provide one interactively when prompted.</p>"},{"location":"guides/cloud-sync/#pushing-and-pulling","title":"Pushing and pulling","text":"<p>Once a provider is configured, sync your vault:</p> <pre><code>$ pm cloud push\nVault uploaded to Google Drive.\n</code></pre> <pre><code>$ pm cloud pull\nVault downloaded and merged.\n</code></pre> <p>Important</p> <p>Cloud synchronization uploads your encrypted vault file. Your master password and decryption keys are never transmitted. The cloud provider only ever sees encrypted data.</p>"},{"location":"guides/cloud-sync/#next-steps","title":"Next steps","text":"<p>See the cloud sync concept for details on the synchronization architecture. Or, learn about TOTP code generation.</p>"},{"location":"guides/import-export/","title":"Importing and exporting data","text":"<p>APM supports importing credentials from external sources and exporting vault data to various formats for backup or migration purposes.</p>"},{"location":"guides/import-export/#importing-data","title":"Importing data","text":""},{"location":"guides/import-export/#supported-formats","title":"Supported formats","text":"<p>APM can ingest data from the following formats:</p> Format Extension Description JSON <code>.json</code> Structured JSON export from other managers CSV <code>.csv</code> Comma-separated values with header row KeePass <code>.kdbx</code> KeePass database files"},{"location":"guides/import-export/#import-command","title":"Import command","text":"<p>Import entries from an external file:</p> <pre><code>$ pm import ./exports/bitwarden.json\n? Detected format: JSON\n? Import 47 entries? Yes\n\nImported 47 entries successfully.\n</code></pre> <p>APM will automatically detect the format and map fields to the appropriate categories.</p> <p>Tip</p> <p>Review imported entries with <code>pm get</code> after import to verify field mapping. Some fields may require manual adjustment depending on the source format.</p>"},{"location":"guides/import-export/#exporting-data","title":"Exporting data","text":""},{"location":"guides/import-export/#export-to-encrypted-format","title":"Export to encrypted format","text":"<p>Export your vault to an encrypted archive:</p> <pre><code>$ pm export --encrypted\n? Master Password: ********\n? Export path: ./backup/vault-backup.apm\n\nExported 142 entries to encrypted archive.\n</code></pre>"},{"location":"guides/import-export/#export-to-plaintext","title":"Export to plaintext","text":"<p>Export your vault to a plaintext format for migration:</p> <pre><code>$ pm export --format json\n? Master Password: ********\n? Export path: ./backup/vault-export.json\n\nExported 142 entries to JSON.\n</code></pre> <p>Important</p> <p>Plaintext exports contain your secrets in cleartext. Handle these files with extreme care and delete them securely after use. Prefer encrypted exports for backups.</p>"},{"location":"guides/import-export/#supported-export-formats","title":"Supported export formats","text":"Format Flag Description JSON <code>--format json</code> Structured JSON output CSV <code>--format csv</code> Comma-separated values Encrypted <code>--encrypted</code> APM native encrypted archive"},{"location":"guides/import-export/#next-steps","title":"Next steps","text":"<p>See the vault management guide for more on managing entries, or learn about cloud synchronization for automated backups.</p>"},{"location":"guides/mcp-integration/","title":"MCP integration","text":"<p>APM includes a native MCP (Model Context Protocol) server that allows AI assistants like Claude Desktop, Cursor, and Windsurf to interact with your encrypted vault in a safe, controlled manner.</p>"},{"location":"guides/mcp-integration/#generating-an-access-token","title":"Generating an access token","text":"<p>Create a token with specific permissions for your AI assistant:</p> <pre><code>$ pm mcp token\n? Select permissions:\n  [x] read    - List and search entries\n  [x] secrets - Retrieve passwords and secrets\n  [ ] totp    - Generate TOTP codes\n  [ ] write   - Add new entries\n\nToken generated: POXXXXXX...\n</code></pre> <p>Tip</p> <p>Use separate tokens for different AI clients with the minimum required permissions. You can always generate additional tokens with different scopes.</p>"},{"location":"guides/mcp-integration/#configuring-your-ai-client","title":"Configuring your AI client","text":""},{"location":"guides/mcp-integration/#claude-desktop","title":"Claude Desktop","text":"<p>Add the following to your <code>claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"apm\": {\n      \"command\": \"C:\\\\path\\\\to\\\\pm.exe\",\n      \"args\": [\"mcp\", \"serve\", \"--token\", \"POXXXXXX...\"]\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-integration/#cursor-windsurf-others","title":"Cursor / Windsurf / Others","text":"<p>Add the following to your MCP configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"apm\": {\n      \"command\": \"C:\\\\path\\\\to\\\\pm.exe\",\n      \"args\": [\"mcp\", \"serve\", \"--token\", \"POXXXXXX...\"],\n      \"capabilities\": [\"tools\"],\n      \"env\": {\n        \"APM_VAULT_PATH\": \"C:\\\\path\\\\to\\\\vault.dat\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-integration/#quick-configuration","title":"Quick configuration","text":"<p>Use <code>pm mcp config</code> to get a ready-to-paste configuration snippet:</p> <pre><code>$ pm mcp config\nCopy the following configuration to your MCP client:\n{\n  \"mcpServers\": {\n    \"apm\": {\n      ...\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-integration/#starting-the-server","title":"Starting the server","text":"<p>The MCP server is started automatically by the AI client using the configured command. You can also start it manually for testing:</p> <pre><code>$ pm mcp serve --token POXXXXXX...\nMCP server listening on stdio...\n</code></pre> <p>Important</p> <p>The MCP server requires an active APM session. You must run <code>pm unlock</code> in your terminal before the AI agent can access the vault.</p>"},{"location":"guides/mcp-integration/#available-tools","title":"Available tools","text":"<p>The MCP server exposes the following tools to AI assistants:</p> Tool Description Required Permission <code>list_vault</code> Lists all entries by category (titles only) <code>read</code> <code>search_vault</code> Performs fuzzy search across metadata <code>read</code> <code>get_entry</code> Retrieves full details including secrets <code>secrets</code> <code>get_totp</code> Generates a 2FA code for a specific entry <code>totp</code> <code>add_entry</code> Securely adds a new entry to the vault <code>write</code>"},{"location":"guides/mcp-integration/#security-best-practices","title":"Security best practices","text":"<ul> <li>Session locking: Always <code>pm lock</code> when not using the AI assistant to wipe the session key.</li> <li>Granular tokens: Use separate tokens for different AI clients with minimal required scopes.</li> <li>Audit logs: Monitor <code>pm audit</code> to see which actions the AI has performed.</li> <li>Token rotation: Periodically regenerate tokens and revoke old ones.</li> </ul>"},{"location":"guides/mcp-integration/#next-steps","title":"Next steps","text":"<p>See the MCP concept for details on the server architecture. Or, read the MCP tools reference for full tool schemas and permission details.</p>"},{"location":"guides/plugins/","title":"Using plugins","text":"<p>APM features a declarative, JSON-driven plugin architecture that allows extending the CLI with custom commands and workflows without writing Go code.</p>"},{"location":"guides/plugins/#installing-plugins","title":"Installing plugins","text":""},{"location":"guides/plugins/#from-the-marketplace","title":"From the marketplace","text":"<p>Install a plugin from the cloud-synced marketplace:</p> <pre><code>$ pm plugins add backup-tool\nDownloading backup-tool v1.2.0...\nPlugin installed successfully.\n</code></pre>"},{"location":"guides/plugins/#from-a-local-directory","title":"From a local directory","text":"<p>Install a plugin from a local directory for development:</p> <pre><code>$ pm plugins local ./my-plugin\nPlugin loaded from ./my-plugin\n</code></pre>"},{"location":"guides/plugins/#listing-installed-plugins","title":"Listing installed plugins","text":"<p>View all installed plugins:</p> <pre><code>$ pm plugins list\n+-------------+---------+---------------------------+\n| Name        | Version | Description               |\n+-------------+---------+---------------------------+\n| backup-tool | 1.2.0   | Backup vault to server    |\n| audit-ext   | 0.5.0   | Extended audit reports     |\n+-------------+---------+---------------------------+\n</code></pre>"},{"location":"guides/plugins/#running-plugin-commands","title":"Running plugin commands","text":"<p>Plugins register their own commands that are available at the top level:</p> <pre><code>$ pm backup-remote\nSyncing vault to remote endpoint...\nServer Response: 200 OK\n</code></pre>"},{"location":"guides/plugins/#removing-plugins","title":"Removing plugins","text":"<p>Uninstall a plugin:</p> <pre><code>$ pm plugins remove backup-tool\nPlugin removed.\n</code></pre>"},{"location":"guides/plugins/#creating-a-plugin","title":"Creating a plugin","text":"<p>A plugin is a directory containing a <code>plugin.json</code> manifest file:</p> <pre><code>my-plugin/\n  plugin.json\n</code></pre> <p>The manifest defines metadata, permissions, and command definitions:</p> <pre><code>{\n  \"name\": \"backup-tool\",\n  \"version\": \"1.2.0\",\n  \"description\": \"Backup vault to remote server\",\n  \"author\": \"Aarav Maloo\",\n  \"permissions\": [\n    \"vault.read\",\n    \"network.outbound\"\n  ],\n  \"commands\": {\n    \"backup-remote\": {\n      \"description\": \"Sync vault to remote endpoint\",\n      \"steps\": [\n        { \"op\": \"v:get\", \"args\": [\"MySecret\", \"pass\"] },\n        { \"op\": \"net:post\", \"args\": [\"https://api.myapp.com/sync\", \"{\\\"key\\\": \\\"{{pass}}\\\"}\", \"resp\"] },\n        { \"op\": \"s:out\", \"args\": [\"Server Response: {{resp}}\"] }\n      ]\n    }\n  }\n}\n</code></pre> <p>Tip</p> <p>See the Plugin API reference for the complete operations glossary and permissions list.</p>"},{"location":"guides/plugins/#next-steps","title":"Next steps","text":"<p>See the plugins concept for details on the plugin architecture, or read the Plugin API reference for the full SDK documentation.</p>"},{"location":"guides/sessions/","title":"Managing sessions","text":"<p>APM uses shell-scoped sessions to provide secure, time-limited access to your decrypted vault. Once a session is started, subsequent commands can access the vault without re-entering the master password.</p>"},{"location":"guides/sessions/#unlocking-the-vault","title":"Unlocking the vault","text":"<p>Start a session with <code>pm unlock</code>:</p> <pre><code>$ pm unlock\n? Master Password: ********\n\nSession started (timeout: 1 hour).\n</code></pre> <p>The first manual unlock automatically initializes a session that lasts for 1 hour. Subsequent commands within the same shell session can access the vault without prompting for the password.</p>"},{"location":"guides/sessions/#locking-the-vault","title":"Locking the vault","text":"<p>Immediately terminate and wipe the active session:</p> <pre><code>$ pm lock\nSession terminated. Memory wiped.\n</code></pre> <p>Important</p> <p>Always lock your vault when stepping away from your terminal. The session key is wiped from memory on lock, preventing any further access until the next unlock.</p>"},{"location":"guides/sessions/#session-scope","title":"Session scope","text":"<p>Sessions are scoped to the shell environment via the <code>APM_SESSION_ID</code> environment variable. This means:</p> <ul> <li>Each terminal window has its own independent session.</li> <li>Closing the terminal automatically invalidates the session.</li> <li>Sessions cannot be shared across different shell instances.</li> </ul>"},{"location":"guides/sessions/#inactivity-timeout","title":"Inactivity timeout","text":"<p>Sessions automatically expire after a period of inactivity (default: 1 hour). After expiration, the next vault operation will require re-entering the master password.</p>"},{"location":"guides/sessions/#read-only-mode","title":"Read-only mode","text":"<p>APM supports a read-only mode that prevents any mutations to the vault:</p> <pre><code>$ pm readonly\nRead-only mode enabled.\n</code></pre> <p>This is useful when you need to look up credentials without risking accidental modifications.</p>"},{"location":"guides/sessions/#next-steps","title":"Next steps","text":"<p>See the sessions concept for details on the session architecture. Or, learn about extending APM with plugins.</p>"},{"location":"guides/team-edition/","title":"Team edition","text":"<p>APM's Team Edition (<code>pm-team</code>) is designed for organizations that need secure credential sharing via a multi-layered RBAC model with departmental isolation.</p>"},{"location":"guides/team-edition/#initializing-an-organization","title":"Initializing an organization","text":"<p>Set up a new organization:</p> <pre><code>$ pm-team init \"Acme Corp\"\n? Set Organization Master Password: ********\nOrganization \"Acme Corp\" initialized.\n</code></pre>"},{"location":"guides/team-edition/#creating-departments","title":"Creating departments","text":"<p>Departments act as isolated encryption domains within the organization:</p> <pre><code>$ pm-team dept create Engineering\nDepartment \"Engineering\" created with isolated encryption domain.\n\n$ pm-team dept create Marketing\nDepartment \"Marketing\" created with isolated encryption domain.\n</code></pre> <p>Each department has its own encryption boundary, ensuring that secrets in one department cannot be accessed by members of another without explicit permission.</p>"},{"location":"guides/team-edition/#onboarding-users","title":"Onboarding users","text":"<p>Add team members with specific roles:</p> <pre><code>$ pm-team user add alice --role admin\nUser \"alice\" onboarded as admin.\n\n$ pm-team user add bob --role member --dept Engineering\nUser \"bob\" onboarded to Engineering as member.\n</code></pre>"},{"location":"guides/team-edition/#managing-approvals","title":"Managing approvals","text":"<p>Handle pending requests for sensitive entries:</p> <pre><code>$ pm-team approvals list\n+------+--------+------------------+--------+\n| ID   | User   | Entry            | Status |\n+------+--------+------------------+--------+\n| 001  | bob    | Production DB    | Pending|\n| 002  | alice  | AWS Root Key     | Pending|\n+------+--------+------------------+--------+\n\n$ pm-team approvals approve 001\nRequest approved. Access granted to bob.\n</code></pre>"},{"location":"guides/team-edition/#session-management","title":"Session management","text":"<p>The Team Edition uses localized session storage, preventing session loss across different shell environments on the same machine:</p> <pre><code>$ pm-team unlock\n? Organization Master Password: ********\nTeam session started.\n</code></pre> <p>Tip</p> <p>The Team Edition supports piped input for non-interactive use, enabling CI/CD and automation scenarios.</p>"},{"location":"guides/team-edition/#next-steps","title":"Next steps","text":"<p>See the team edition documentation for in-depth coverage of RBAC, departments, and approval workflows.</p>"},{"location":"guides/totp/","title":"Generating TOTP codes","text":"<p>APM can generate time-based one-time passwords (TOTP) directly in your terminal, complete with live countdowns.</p>"},{"location":"guides/totp/#adding-a-totp-entry","title":"Adding a TOTP entry","text":"<p>When adding an entry, select the TOTP category and provide the seed:</p> <pre><code>$ pm add\n? Select category: TOTP\n? Account name: GitHub 2FA\n? TOTP Secret/Seed: JBSWY3DPEHPK3PXP\n? Issuer (optional): GitHub\n\nEntry added successfully.\n</code></pre> <p>Tip</p> <p>You can also add a TOTP seed to an existing password entry. Many services provide a TOTP secret alongside your password credentials.</p>"},{"location":"guides/totp/#viewing-totp-codes","title":"Viewing TOTP codes","text":"<p>Generate a code for a specific entry using <code>pm totp show</code>:</p> <pre><code>$ pm totp show\n? Select entry: GitHub 2FA\n\n  Code: 482 913\n  Expires in: 18s [==================------]\n</code></pre> <p>The code refreshes automatically with a live countdown showing the remaining validity window.</p>"},{"location":"guides/totp/#using-totp-with-mcp","title":"Using TOTP with MCP","text":"<p>If you have configured the MCP server with <code>totp</code> permissions, AI assistants can also retrieve TOTP codes via the <code>get_totp</code> tool. See the MCP tools reference for details.</p>"},{"location":"guides/totp/#next-steps","title":"Next steps","text":"<p>Learn about session management to control vault access, or see the command reference for all TOTP-related options.</p>"},{"location":"guides/vault-management/","title":"Managing your vault","text":"<p>APM manages an encrypted vault that stores all your credentials locally with zero-knowledge encryption.</p>"},{"location":"guides/vault-management/#initializing-a-vault","title":"Initializing a vault","text":"<p>Create a new encrypted vault with <code>pm init</code>:</p> <pre><code>$ pm init\n? Set a Master Password: ********\n? Confirm Master Password: ********\n? Set a Recovery Key (optional): ********\n\nVault initialized successfully.\n</code></pre> <p>This creates a new vault file encrypted with your master password using Argon2id key derivation and AES-256-GCM authenticated encryption. See the encryption concept for details on the cryptographic architecture.</p> <p>Important</p> <p>Your master password is never stored anywhere. APM uses a zero-knowledge architecture \u2014 if you lose your master password and recovery key, your data cannot be recovered.</p>"},{"location":"guides/vault-management/#adding-entries","title":"Adding entries","text":"<p>Store a new secret using <code>pm add</code>:</p> <pre><code>$ pm add\n? Select category: Password\n? Account name: GitHub\n? Username: aarav@example.com\n? Password: ********\n\nEntry added successfully.\n</code></pre> <p>APM supports 22 different secret types, including passwords, API keys, SSH keys, TOTP seeds, certificates, and more. The interactive menu guides you through the fields specific to each category.</p>"},{"location":"guides/vault-management/#searching-and-retrieving-entries","title":"Searching and retrieving entries","text":"<p>Use <code>pm get</code> with a fuzzy search query to find entries:</p> <pre><code>$ pm get github\n+----------+----------------------+\n| Account  | GitHub               |\n| Username | aarav@example.com    |\n| Category | Password             |\n+----------+----------------------+\n</code></pre> <p>By default, secrets are hidden. Use the <code>--show-pass</code> flag to reveal them:</p> <pre><code>$ pm get github --show-pass\n+----------+----------------------+\n| Account  | GitHub               |\n| Username | aarav@example.com    |\n| Password | s3cureP@ssw0rd!      |\n| Category | Password             |\n+----------+----------------------+\n</code></pre>"},{"location":"guides/vault-management/#editing-entries","title":"Editing entries","text":"<p>Modify an existing entry using <code>pm edit</code>:</p> <pre><code>$ pm edit GitHub\n? Which field to edit: Username\n? New value: newuser@example.com\n\nEntry updated successfully.\n</code></pre>"},{"location":"guides/vault-management/#deleting-entries","title":"Deleting entries","text":"<p>Permanently remove an entry using <code>pm del</code>:</p> <pre><code>$ pm del GitHub\n? Confirm deletion of \"GitHub\"? Yes\n\nEntry deleted.\n</code></pre> <p>Important</p> <p>Deletion is permanent. Consider using <code>pm export</code> to create a backup before deleting entries.</p>"},{"location":"guides/vault-management/#generating-passwords","title":"Generating passwords","text":"<p>APM includes a high-entropy password generator:</p> <pre><code>$ pm gen\nGenerated: x#9Kp!mR2$vL@nQ7\n\nCopied to clipboard.\n</code></pre> <p>The generator produces cryptographically secure passwords suitable for any service.</p>"},{"location":"guides/vault-management/#using-namespaces","title":"Using namespaces","text":"<p>APM supports namespaces (spaces) to organize secrets into isolated compartments:</p> <pre><code>$ pm space create Work\nNamespace \"Work\" created.\n\n$ pm space switch Work\nSwitched to namespace \"Work\".\n\n$ pm space list\n  Personal (default)\n&gt; Work\n  DevOps\n</code></pre> <p>Namespaces allow you to separate Work, Personal, and Project-specific secrets within a single encrypted vault.</p>"},{"location":"guides/vault-management/#using-the-setup-wizard","title":"Using the setup wizard","text":"<p>For first-time users, APM provides a guided setup wizard:</p> <pre><code>$ pm setup\nWelcome to APM Setup Wizard!\n\nStep 1/3: Vault Initialization\n? Set a Master Password: ********\n...\n\nStep 2/3: Cloud Sync (optional)\n? Enable cloud sync? Yes\n...\n\nStep 3/3: Profile Creation\n? Create a namespace? Yes\n...\n\nSetup complete!\n</code></pre>"},{"location":"guides/vault-management/#next-steps","title":"Next steps","text":"<p>To learn more about vault management, see the vault format concept and the command reference.</p> <p>Or, read on to learn how to sync your vault across devices.</p>"},{"location":"reference/","title":"Reference overview","text":"<p>Consult the reference documentation for comprehensive details on APM's internals:</p> <ul> <li>CLI commands</li> <li>Storage</li> <li>Environment variables</li> <li>Plugin API</li> <li>MCP tools</li> <li>Policies</li> </ul>"},{"location":"reference/cli/","title":"CLI reference","text":"<p>APM provides a comprehensive set of commands for managing secrets, sessions, cloud sync, plugins, and more.</p>"},{"location":"reference/cli/#core-commands","title":"Core commands","text":""},{"location":"reference/cli/#pm-init","title":"pm init","text":"<p>Initialize a new encrypted vault.</p> <pre><code>$ pm init\n</code></pre> <p>Creates the vault file, prompts for a master password, and optionally sets a recovery key. If a vault already exists, the command exits with an error.</p>"},{"location":"reference/cli/#pm-add","title":"pm add","text":"<p>Add a new entry to the vault.</p> <pre><code>$ pm add\n</code></pre> <p>Launches an interactive prompt to select a category, fill in fields, and encrypt the entry. The active policy is enforced during entry creation.</p>"},{"location":"reference/cli/#pm-get","title":"pm get","text":"<p>Search and retrieve an entry.</p> <pre><code>$ pm get &lt;query&gt; [--show-pass]\n</code></pre> Flag Description <code>&lt;query&gt;</code> Fuzzy search term to match against entry names <code>--show-pass</code> Reveal secret fields in the output"},{"location":"reference/cli/#pm-edit","title":"pm edit","text":"<p>Modify an existing entry.</p> <pre><code>$ pm edit &lt;name&gt;\n</code></pre> <p>Opens an interactive editor to change individual fields of the matched entry.</p>"},{"location":"reference/cli/#pm-del","title":"pm del","text":"<p>Delete an entry permanently.</p> <pre><code>$ pm del &lt;name&gt;\n</code></pre> <p>Prompts for confirmation before removing the entry from the vault.</p>"},{"location":"reference/cli/#pm-gen","title":"pm gen","text":"<p>Generate a high-entropy random password.</p> <pre><code>$ pm gen\n</code></pre> <p>Produces a cryptographically secure password and copies it to the clipboard.</p>"},{"location":"reference/cli/#session-commands","title":"Session commands","text":""},{"location":"reference/cli/#pm-unlock","title":"pm unlock","text":"<p>Start a new session by entering the master password.</p> <pre><code>$ pm unlock\n</code></pre> <p>Derives encryption keys, validates them, and caches the session for subsequent commands.</p>"},{"location":"reference/cli/#pm-lock","title":"pm lock","text":"<p>Terminate the active session and wipe keys from memory.</p> <pre><code>$ pm lock\n</code></pre>"},{"location":"reference/cli/#pm-readonly","title":"pm readonly","text":"<p>Toggle read-only mode for the current session.</p> <pre><code>$ pm readonly\n</code></pre>"},{"location":"reference/cli/#cloud-commands","title":"Cloud commands","text":""},{"location":"reference/cli/#pm-cloud-init","title":"pm cloud init","text":"<p>Initialize a cloud sync provider.</p> <pre><code>$ pm cloud init &lt;provider&gt; [--key &lt;retrieval-key&gt;]\n</code></pre> Argument Description <code>&lt;provider&gt;</code> <code>gdrive</code>, <code>github</code>, <code>dropbox</code>, or <code>all</code> <code>--key</code> Optional custom retrieval key"},{"location":"reference/cli/#pm-cloud-push","title":"pm cloud push","text":"<p>Upload the encrypted vault to the configured provider(s).</p> <pre><code>$ pm cloud push\n</code></pre>"},{"location":"reference/cli/#pm-cloud-pull","title":"pm cloud pull","text":"<p>Download the vault from the configured provider(s).</p> <pre><code>$ pm cloud pull\n</code></pre>"},{"location":"reference/cli/#totp-commands","title":"TOTP commands","text":""},{"location":"reference/cli/#pm-totp-show","title":"pm totp show","text":"<p>Generate and display a TOTP code with a live countdown.</p> <pre><code>$ pm totp show\n</code></pre>"},{"location":"reference/cli/#namespace-commands","title":"Namespace commands","text":""},{"location":"reference/cli/#pm-space-create","title":"pm space create","text":"<p>Create a new namespace.</p> <pre><code>$ pm space create &lt;name&gt;\n</code></pre>"},{"location":"reference/cli/#pm-space-switch","title":"pm space switch","text":"<p>Switch to a different namespace.</p> <pre><code>$ pm space switch &lt;name&gt;\n</code></pre>"},{"location":"reference/cli/#pm-space-list","title":"pm space list","text":"<p>List all available namespaces.</p> <pre><code>$ pm space list\n</code></pre>"},{"location":"reference/cli/#security-commands","title":"Security commands","text":""},{"location":"reference/cli/#pm-health","title":"pm health","text":"<p>Run a vault health audit against the active policy.</p> <pre><code>$ pm health\n</code></pre>"},{"location":"reference/cli/#pm-cinfo","title":"pm cinfo","text":"<p>Display cryptographic parameters for the current vault.</p> <pre><code>$ pm cinfo\n</code></pre>"},{"location":"reference/cli/#pm-profile-set","title":"pm profile set","text":"<p>Switch the security profile.</p> <pre><code>$ pm profile set &lt;profile&gt;\n</code></pre>"},{"location":"reference/cli/#pm-profile-list","title":"pm profile list","text":"<p>List available security profiles.</p> <pre><code>$ pm profile list\n</code></pre>"},{"location":"reference/cli/#pm-sec_profile-create","title":"pm sec_profile create","text":"<p>Create a custom security profile with specific Argon2id parameters.</p> <pre><code>$ pm sec_profile create\n</code></pre>"},{"location":"reference/cli/#policy-commands","title":"Policy commands","text":""},{"location":"reference/cli/#pm-policy-load","title":"pm policy load","text":"<p>Load a YAML policy file.</p> <pre><code>$ pm policy load &lt;path&gt;\n</code></pre>"},{"location":"reference/cli/#pm-policy-show","title":"pm policy show","text":"<p>Display the active policy.</p> <pre><code>$ pm policy show\n</code></pre>"},{"location":"reference/cli/#pm-policy-clear","title":"pm policy clear","text":"<p>Remove the active policy.</p> <pre><code>$ pm policy clear\n</code></pre>"},{"location":"reference/cli/#auth-commands","title":"Auth commands","text":""},{"location":"reference/cli/#pm-auth-email","title":"pm auth email","text":"<p>Update the registered recovery email address.</p> <pre><code>$ pm auth email\n</code></pre>"},{"location":"reference/cli/#pm-auth-reset","title":"pm auth reset","text":"<p>Reset the master password (requires the current password).</p> <pre><code>$ pm auth reset\n</code></pre>"},{"location":"reference/cli/#pm-auth-change","title":"pm auth change","text":"<p>Change the master password.</p> <pre><code>$ pm auth change\n</code></pre>"},{"location":"reference/cli/#pm-auth-recover","title":"pm auth recover","text":"<p>Initiate the recovery flow.</p> <pre><code>$ pm auth recover\n</code></pre>"},{"location":"reference/cli/#mcp-commands","title":"MCP commands","text":""},{"location":"reference/cli/#pm-mcp-serve","title":"pm mcp serve","text":"<p>Start the MCP server.</p> <pre><code>$ pm mcp serve --token &lt;token&gt;\n</code></pre>"},{"location":"reference/cli/#pm-mcp-token","title":"pm mcp token","text":"<p>Generate a new MCP access token with selected permission scopes.</p> <pre><code>$ pm mcp token\n</code></pre>"},{"location":"reference/cli/#pm-mcp-config","title":"pm mcp config","text":"<p>Display a copy-pasteable MCP client configuration snippet.</p> <pre><code>$ pm mcp config\n</code></pre>"},{"location":"reference/cli/#plugin-commands","title":"Plugin commands","text":""},{"location":"reference/cli/#pm-plugins-add","title":"pm plugins add","text":"<p>Install a plugin from the marketplace.</p> <pre><code>$ pm plugins add &lt;name&gt;\n</code></pre>"},{"location":"reference/cli/#pm-plugins-local","title":"pm plugins local","text":"<p>Load a plugin from a local directory.</p> <pre><code>$ pm plugins local &lt;path&gt;\n</code></pre>"},{"location":"reference/cli/#pm-plugins-list","title":"pm plugins list","text":"<p>List installed plugins.</p> <pre><code>$ pm plugins list\n</code></pre>"},{"location":"reference/cli/#pm-plugins-remove","title":"pm plugins remove","text":"<p>Uninstall a plugin.</p> <pre><code>$ pm plugins remove &lt;name&gt;\n</code></pre>"},{"location":"reference/cli/#import-export-commands","title":"Import / Export commands","text":""},{"location":"reference/cli/#pm-import","title":"pm import","text":"<p>Import entries from an external file.</p> <pre><code>$ pm import &lt;path&gt;\n</code></pre>"},{"location":"reference/cli/#pm-export","title":"pm export","text":"<p>Export vault entries.</p> <pre><code>$ pm export [--format &lt;format&gt;] [--encrypted]\n</code></pre> Flag Description <code>--format</code> Output format: <code>json</code> or <code>csv</code> <code>--encrypted</code> Export as an encrypted APM archive"},{"location":"reference/cli/#utility-commands","title":"Utility commands","text":""},{"location":"reference/cli/#pm-setup","title":"pm setup","text":"<p>Launch the interactive first-time setup wizard.</p> <pre><code>$ pm setup\n</code></pre>"},{"location":"reference/cli/#pm-audit","title":"pm audit","text":"<p>View the tamper-evident audit log.</p> <pre><code>$ pm audit\n</code></pre>"},{"location":"reference/cli/#pm-version","title":"pm version","text":"<p>Display the installed APM version.</p> <pre><code>$ pm version\n</code></pre>"},{"location":"reference/cli/#pm-help","title":"pm help","text":"<p>Display help for any command.</p> <pre><code>$ pm help [command]\n</code></pre>"},{"location":"reference/environment-variables/","title":"Environment variables","text":"<p>APM reads the following environment variables to customize behavior. Set these in your shell profile to persist across sessions.</p>"},{"location":"reference/environment-variables/#core-variables","title":"Core variables","text":"Variable Description Default <code>APM_VAULT_PATH</code> Override the default vault file location <code>~/.apm/vault.dat</code> <code>APM_CONFIG_DIR</code> Override the configuration directory <code>~/.apm/</code> <code>APM_SESSION_ID</code> Active session identifier (set automatically by <code>pm unlock</code>) None <code>APM_SESSION_TIMEOUT</code> Session inactivity timeout in minutes <code>60</code>"},{"location":"reference/environment-variables/#cloud-variables","title":"Cloud variables","text":"Variable Description Default <code>APM_CLOUD_PROVIDER</code> Default cloud provider (<code>gdrive</code>, <code>github</code>, <code>dropbox</code>) None <code>APM_GITHUB_TOKEN</code> GitHub Personal Access Token for cloud sync None <code>APM_GITHUB_REPO</code> GitHub repository name for vault storage <code>vault-backup</code>"},{"location":"reference/environment-variables/#security-variables","title":"Security variables","text":"Variable Description Default <code>APM_SECURITY_PROFILE</code> Default security profile name <code>standard</code> <code>APM_POLICY_PATH</code> Path to the active YAML policy file None"},{"location":"reference/environment-variables/#mcp-variables","title":"MCP variables","text":"Variable Description Default <code>APM_MCP_TOKEN</code> MCP access token for the server None <code>APM_MCP_LOG_LEVEL</code> MCP server log verbosity (<code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>) <code>info</code>"},{"location":"reference/environment-variables/#plugin-variables","title":"Plugin variables","text":"Variable Description Default <code>APM_PLUGIN_DIR</code> Override the plugin cache directory <code>~/.apm/plugins_cache/</code>"},{"location":"reference/environment-variables/#team-variables","title":"Team variables","text":"Variable Description Default <code>APM_TEAM_DIR</code> Override the team edition data directory <code>~/.apm-team/</code>"},{"location":"reference/environment-variables/#platform-specific-defaults","title":"Platform-specific defaults","text":"WindowsmacOS and Linux Variable Resolved Default <code>APM_VAULT_PATH</code> <code>%USERPROFILE%\\.apm\\vault.dat</code> <code>APM_CONFIG_DIR</code> <code>%USERPROFILE%\\.apm\\</code> <code>APM_TEAM_DIR</code> <code>%USERPROFILE%\\.apm-team\\</code> Variable Resolved Default <code>APM_VAULT_PATH</code> <code>~/.apm/vault.dat</code> <code>APM_CONFIG_DIR</code> <code>~/.apm/</code> <code>APM_TEAM_DIR</code> <code>~/.apm-team/</code>"},{"location":"reference/mcp-tools/","title":"MCP tools reference","text":"<p>The APM MCP server exposes the following tools to AI assistants. Each tool has a JSON schema defining its input parameters and expected output.</p> <p>Note</p> <p>See the MCP concept for architecture details and the MCP integration guide for setup \u2014 this document is the full tool schema reference.</p>"},{"location":"reference/mcp-tools/#list_vault","title":"list_vault","text":"<p>Lists all entries in the vault grouped by category. Returns titles and metadata only.</p>"},{"location":"reference/mcp-tools/#parameters","title":"Parameters","text":"<p>None.</p>"},{"location":"reference/mcp-tools/#response","title":"Response","text":"<pre><code>{\n  \"categories\": {\n    \"Password\": [\"GitHub\", \"Gmail\", \"AWS Console\"],\n    \"API Key\": [\"Stripe\", \"OpenAI\"],\n    \"SSH Key\": [\"Production Server\"]\n  },\n  \"total\": 6\n}\n</code></pre>"},{"location":"reference/mcp-tools/#required-permission","title":"Required permission","text":"<p><code>read</code></p>"},{"location":"reference/mcp-tools/#search_vault","title":"search_vault","text":"<p>Performs fuzzy search across entry names and metadata.</p>"},{"location":"reference/mcp-tools/#parameters_1","title":"Parameters","text":"Parameter Type Required Description <code>query</code> string Yes Search term"},{"location":"reference/mcp-tools/#response_1","title":"Response","text":"<pre><code>{\n  \"results\": [\n    { \"name\": \"GitHub\", \"category\": \"Password\", \"score\": 0.95 },\n    { \"name\": \"GitLab\", \"category\": \"Password\", \"score\": 0.72 }\n  ]\n}\n</code></pre>"},{"location":"reference/mcp-tools/#required-permission_1","title":"Required permission","text":"<p><code>read</code></p>"},{"location":"reference/mcp-tools/#get_entry","title":"get_entry","text":"<p>Retrieves the full details of a specific entry, including all secret fields.</p>"},{"location":"reference/mcp-tools/#parameters_2","title":"Parameters","text":"Parameter Type Required Description <code>name</code> string Yes Exact entry name"},{"location":"reference/mcp-tools/#response_2","title":"Response","text":"<pre><code>{\n  \"name\": \"GitHub\",\n  \"category\": \"Password\",\n  \"username\": \"aarav@example.com\",\n  \"password\": \"s3cureP@ssw0rd!\",\n  \"url\": \"https://github.com\",\n  \"created\": \"2025-01-15T10:30:00Z\",\n  \"modified\": \"2025-06-01T14:22:00Z\"\n}\n</code></pre>"},{"location":"reference/mcp-tools/#required-permission_2","title":"Required permission","text":"<p><code>secrets</code></p>"},{"location":"reference/mcp-tools/#get_totp","title":"get_totp","text":"<p>Generates a time-based one-time password for a specific entry.</p>"},{"location":"reference/mcp-tools/#parameters_3","title":"Parameters","text":"Parameter Type Required Description <code>name</code> string Yes Entry name with a TOTP seed"},{"location":"reference/mcp-tools/#response_3","title":"Response","text":"<pre><code>{\n  \"code\": \"482913\",\n  \"remaining_seconds\": 18,\n  \"period\": 30\n}\n</code></pre>"},{"location":"reference/mcp-tools/#required-permission_3","title":"Required permission","text":"<p><code>totp</code></p>"},{"location":"reference/mcp-tools/#add_entry","title":"add_entry","text":"<p>Adds a new entry to the vault.</p>"},{"location":"reference/mcp-tools/#parameters_4","title":"Parameters","text":"Parameter Type Required Description <code>name</code> string Yes Display name for the entry <code>category</code> string Yes One of the 22 supported categories <code>fields</code> object Yes Category-specific fields"},{"location":"reference/mcp-tools/#example-input","title":"Example input","text":"<pre><code>{\n  \"name\": \"New Service\",\n  \"category\": \"Password\",\n  \"fields\": {\n    \"username\": \"admin\",\n    \"password\": \"g3n3r@t3d!P@ss\",\n    \"url\": \"https://newservice.com\"\n  }\n}\n</code></pre>"},{"location":"reference/mcp-tools/#response_4","title":"Response","text":"<pre><code>{\n  \"status\": \"created\",\n  \"name\": \"New Service\"\n}\n</code></pre>"},{"location":"reference/mcp-tools/#required-permission_4","title":"Required permission","text":"<p><code>write</code></p>"},{"location":"reference/plugin-api/","title":"Plugin API reference","text":"<p>APM plugins are declarative JSON manifests that define commands as sequences of typed operations.</p> <p>Note</p> <p>See the plugins concept for architecture details and the plugins guide for usage \u2014 this document is the full API reference.</p>"},{"location":"reference/plugin-api/#manifest-schema","title":"Manifest schema","text":"<p>Every plugin must contain a <code>plugin.json</code> file at its root:</p> <pre><code>{\n  \"name\": \"&lt;string&gt;\",\n  \"version\": \"&lt;semver&gt;\",\n  \"description\": \"&lt;string&gt;\",\n  \"author\": \"&lt;string&gt;\",\n  \"permissions\": [\"&lt;permission&gt;\", \"...\"],\n  \"commands\": {\n    \"&lt;command-name&gt;\": {\n      \"description\": \"&lt;string&gt;\",\n      \"steps\": [\n        { \"op\": \"&lt;op-type&gt;\", \"args\": [\"&lt;arg1&gt;\", \"&lt;arg2&gt;\", \"...\"] }\n      ]\n    }\n  }\n}\n</code></pre> Field Type Required Description <code>name</code> string Yes Unique plugin identifier <code>version</code> string Yes Semantic version (e.g., <code>1.2.0</code>) <code>description</code> string Yes Human-readable description <code>author</code> string Yes Plugin author <code>permissions</code> string[] Yes Required permission scopes <code>commands</code> object Yes Command definitions"},{"location":"reference/plugin-api/#operations-glossary","title":"Operations glossary","text":""},{"location":"reference/plugin-api/#vault-operations","title":"Vault operations","text":"Op Args Description Permission <code>v:get</code> <code>[key, assignTo]</code> Retrieve an entry by name <code>vault.read</code> <code>v:add</code> <code>[account, password, username]</code> Create a new entry <code>vault.write</code> <code>v:list</code> <code>[assignTo]</code> List all entry names <code>vault.read</code> <code>v:del</code> <code>[key]</code> Delete an entry <code>vault.write</code> <code>v:backup</code> <code>[]</code> Trigger a vault backup <code>vault.write</code> <code>v:lock</code> <code>[]</code> Lock the vault session None"},{"location":"reference/plugin-api/#system-io-operations","title":"System / IO operations","text":"Op Args Description Permission <code>s:out</code> <code>[message]</code> Print to stdout None <code>s:in</code> <code>[prompt, assignTo]</code> Read user input None <code>s:clip</code> <code>[text]</code> Copy text to clipboard <code>system.write</code> <code>s:sleep</code> <code>[seconds]</code> Pause execution None <code>s:exec</code> <code>[command, assignTo]</code> Execute a shell command <code>system.exec</code> <code>s:read</code> <code>[path, assignTo]</code> Read a file <code>system.read</code> <code>s:write</code> <code>[path, content]</code> Write a file <code>system.write</code> <code>s:env</code> <code>[varName, assignTo]</code> Read an environment variable <code>system.env.read</code>"},{"location":"reference/plugin-api/#network-operations","title":"Network operations","text":"Op Args Description Permission <code>net:get</code> <code>[url, assignTo]</code> HTTP GET request <code>network.outbound</code> <code>net:post</code> <code>[url, payload, assignTo]</code> HTTP POST request <code>network.outbound</code>"},{"location":"reference/plugin-api/#cryptographic-operations","title":"Cryptographic operations","text":"Op Args Description Permission <code>crypto:hash</code> <code>[data, assignTo]</code> SHA-256 hash <code>crypto.use</code>"},{"location":"reference/plugin-api/#variable-substitution","title":"Variable substitution","text":"<p>Values stored via the <code>assignTo</code> argument can be referenced in subsequent operations using the <code>{{name}}</code> template syntax:</p> <pre><code>{ \"op\": \"v:get\", \"args\": [\"MySecret\", \"pass\"] },\n{ \"op\": \"s:out\", \"args\": [\"The password is: {{pass}}\"] }\n</code></pre>"},{"location":"reference/plugin-api/#built-in-variables","title":"Built-in variables","text":"Variable Description <code>{{USER}}</code> Current OS username <code>{{OS}}</code> Operating system identifier <code>{{TIMESTAMP}}</code> Current UTC timestamp"},{"location":"reference/plugin-api/#permissions-reference","title":"Permissions reference","text":""},{"location":"reference/plugin-api/#vault-permissions","title":"Vault permissions","text":"Permission Scope <code>vault.read</code> Read entry metadata and secrets <code>vault.write</code> Create, edit, and delete entries <code>vault.item.*</code> All item-level operations <code>vault.item.field.*</code> All field-level access (password, username, url, notes, totp, tags, metadata)"},{"location":"reference/plugin-api/#network-permissions","title":"Network permissions","text":"Permission Scope <code>network.outbound</code> General outbound HTTP access <code>network.http</code> HTTP-specific access <code>network.ssh</code> SSH protocol access"},{"location":"reference/plugin-api/#system-permissions","title":"System permissions","text":"Permission Scope <code>system.exec</code> Execute shell commands <code>system.read</code> Read filesystem <code>system.write</code> Write filesystem and clipboard <code>system.env.read</code> Read environment variables <code>system.clipboard.write</code> Write to clipboard only"},{"location":"reference/plugin-api/#crypto-permissions","title":"Crypto permissions","text":"Permission Scope <code>crypto.use</code> General cryptographic operations <code>crypto.hash</code> Hashing operations <code>crypto.encrypt</code> Encryption operations <code>crypto.key.*</code> Key management operations"},{"location":"reference/plugin-api/#ui-permissions","title":"UI permissions","text":"Permission Scope <code>ui.prompt</code> Interactive prompts <code>ui.alert</code> Alert dialogs <code>ui.window.*</code> Window management"},{"location":"reference/plugin-api/#audit-and-user-permissions","title":"Audit and user permissions","text":"Permission Scope <code>audit.read</code> Read audit logs <code>audit.write</code> Write audit entries <code>user.read</code> Read user information <code>user.session.*</code> Session management <code>plugin.list</code> List other plugins <code>plugin.config.*</code> Plugin configuration"},{"location":"reference/policies/","title":"Policies reference","text":"<p>Policy files are YAML documents that define security standards enforced by APM's policy engine.</p>"},{"location":"reference/policies/#full-schema","title":"Full schema","text":"<pre><code>name: &lt;string&gt;\nversion: &lt;semver&gt;\n\npassword:\n  min_length: &lt;integer&gt;\n  max_length: &lt;integer&gt;\n  require_uppercase: &lt;boolean&gt;\n  require_lowercase: &lt;boolean&gt;\n  require_digits: &lt;boolean&gt;\n  require_symbols: &lt;boolean&gt;\n  max_age_days: &lt;integer&gt;\n  disallow_reuse: &lt;integer&gt;\n\naudit:\n  require_rotation_check: &lt;boolean&gt;\n  alert_on_weak: &lt;boolean&gt;\n  alert_on_duplicate: &lt;boolean&gt;\n  alert_on_expired: &lt;boolean&gt;\n</code></pre>"},{"location":"reference/policies/#field-reference","title":"Field reference","text":""},{"location":"reference/policies/#top-level-fields","title":"Top-level fields","text":"Field Type Required Description <code>name</code> string Yes Policy name <code>version</code> string Yes Semantic version"},{"location":"reference/policies/#password","title":"password","text":"Field Type Default Description <code>min_length</code> integer 8 Minimum password length <code>max_length</code> integer 128 Maximum password length <code>require_uppercase</code> boolean false Require at least one uppercase letter <code>require_lowercase</code> boolean false Require at least one lowercase letter <code>require_digits</code> boolean false Require at least one digit <code>require_symbols</code> boolean false Require at least one symbol <code>max_age_days</code> integer None Maximum password age before rotation warning <code>disallow_reuse</code> integer 0 Number of previous passwords to check for reuse"},{"location":"reference/policies/#audit","title":"audit","text":"Field Type Default Description <code>require_rotation_check</code> boolean false Flag expired passwords during health audits <code>alert_on_weak</code> boolean false Flag passwords below policy requirements <code>alert_on_duplicate</code> boolean false Flag duplicate passwords across entries <code>alert_on_expired</code> boolean false Flag entries past <code>max_age_days</code>"},{"location":"reference/policies/#example-policies","title":"Example policies","text":""},{"location":"reference/policies/#minimal-personal-use","title":"Minimal (personal use)","text":"<pre><code>name: personal\nversion: 1.0\n\npassword:\n  min_length: 12\n  require_digits: true\n</code></pre>"},{"location":"reference/policies/#corporate-standard","title":"Corporate standard","text":"<pre><code>name: corporate-standard\nversion: 1.0\n\npassword:\n  min_length: 14\n  require_uppercase: true\n  require_lowercase: true\n  require_digits: true\n  require_symbols: true\n  max_age_days: 90\n  disallow_reuse: 5\n\naudit:\n  require_rotation_check: true\n  alert_on_weak: true\n  alert_on_duplicate: true\n  alert_on_expired: true\n</code></pre>"},{"location":"reference/policies/#high-security","title":"High-security","text":"<pre><code>name: high-security\nversion: 1.0\n\npassword:\n  min_length: 20\n  require_uppercase: true\n  require_lowercase: true\n  require_digits: true\n  require_symbols: true\n  max_age_days: 30\n  disallow_reuse: 10\n\naudit:\n  require_rotation_check: true\n  alert_on_weak: true\n  alert_on_duplicate: true\n  alert_on_expired: true\n</code></pre>"},{"location":"reference/storage/","title":"Storage","text":"<p>APM stores data in the following locations. All paths are configurable via environment variables.</p>"},{"location":"reference/storage/#vault-file","title":"Vault file","text":"<p>The primary encrypted vault file.</p> WindowsmacOS and Linux <pre><code>%USERPROFILE%\\.apm\\vault.dat\n</code></pre> <pre><code>~/.apm/vault.dat\n</code></pre> <p>Override with <code>APM_VAULT_PATH</code>.</p>"},{"location":"reference/storage/#configuration-directory","title":"Configuration directory","text":"<p>APM's configuration files and metadata.</p> WindowsmacOS and Linux <pre><code>%USERPROFILE%\\.apm\\\n</code></pre> <pre><code>~/.apm/\n</code></pre>"},{"location":"reference/storage/#directory-contents","title":"Directory contents","text":"Path Description <code>vault.dat</code> Primary encrypted vault <code>config.yaml</code> User configuration <code>policies/</code> Loaded YAML policy files <code>plugins_cache/</code> Installed plugin manifests <code>cloud/</code> Cloud provider tokens (encrypted) <code>audit.log</code> Tamper-evident audit log"},{"location":"reference/storage/#session-storage","title":"Session storage","text":"<p>Active session keys are stored in platform-specific temporary locations:</p> WindowsmacOS and Linux <pre><code>%TEMP%\\apm-session-&lt;id&gt;\n</code></pre> <pre><code>/tmp/apm-session-&lt;id&gt;\n</code></pre> <p>Session files are memory-only where supported and are wiped on <code>pm lock</code> or session timeout.</p>"},{"location":"reference/storage/#plugin-storage","title":"Plugin storage","text":"<p>Plugins are stored in the <code>plugins_cache/</code> directory within the configuration directory:</p> <pre><code>~/.apm/plugins_cache/\n  backup-tool/\n    plugin.json\n  audit-ext/\n    plugin.json\n</code></pre>"},{"location":"reference/storage/#cloud-provider-tokens","title":"Cloud provider tokens","text":"<p>OAuth tokens and personal access tokens for cloud providers are encrypted inside the vault:</p> Provider Token Type Google Drive OAuth2 access + refresh token GitHub Personal Access Token Dropbox OAuth2 access + refresh token <p>These tokens are never stored in plaintext. They are encrypted alongside your secrets using the same AES-256-GCM scheme.</p>"},{"location":"reference/storage/#team-edition-storage","title":"Team edition storage","text":"<p>The team edition uses a separate storage model:</p> WindowsmacOS and Linux <pre><code>%USERPROFILE%\\.apm-team\\\n</code></pre> <pre><code>~/.apm-team/\n</code></pre> Path Description <code>org.dat</code> Encrypted organization vault <code>members/</code> Per-member key material <code>departments/</code> Department-scoped encryption domains"},{"location":"team/","title":"Team edition","text":"<p>APM's Team Edition provides organizational credential management with multi-layered access control. It extends the personal vault model with departments, roles, and approval workflows.</p> <p>Read more about each feature:</p> <ul> <li>RBAC and roles</li> <li>Departments</li> <li>Approval workflows</li> </ul> <p>Or, see the team edition guide for a quick introduction.</p>"},{"location":"team/approvals/","title":"Approval workflows","text":"<p>APM's Team Edition includes an approval workflow for managing access to sensitive entries. When a member requests access to a restricted secret, the request must be approved by a Manager, Admin, or Owner before access is granted.</p>"},{"location":"team/approvals/#requesting-access","title":"Requesting access","text":"<p>When a member attempts to access a restricted entry:</p> <pre><code>$ pm-team get \"Production DB\"\nAccess restricted. Approval request submitted (ID: 001).\n</code></pre> <p>The request is queued and the member is notified when a decision is made.</p>"},{"location":"team/approvals/#viewing-pending-requests","title":"Viewing pending requests","text":"<p>Managers, Admins, and Owners can list pending approval requests:</p> <pre><code>$ pm-team approvals list\n+------+--------+------------------+---------+---------------------+\n| ID   | User   | Entry            | Status  | Requested           |\n+------+--------+------------------+---------+---------------------+\n| 001  | bob    | Production DB    | Pending | 2025-06-01 14:22:00 |\n| 002  | alice  | AWS Root Key     | Pending | 2025-06-01 15:10:00 |\n+------+--------+------------------+---------+---------------------+\n</code></pre>"},{"location":"team/approvals/#approving-requests","title":"Approving requests","text":"<pre><code>$ pm-team approvals approve 001\nRequest approved. Access granted to bob for \"Production DB\".\n</code></pre>"},{"location":"team/approvals/#denying-requests","title":"Denying requests","text":"<pre><code>$ pm-team approvals deny 002 --reason \"Use IAM role instead\"\nRequest denied. Reason sent to alice.\n</code></pre>"},{"location":"team/approvals/#approval-scope","title":"Approval scope","text":"Approver Role Can Approve Owner Any request in any department Admin Any request in any department Manager Requests within their own department only Member Cannot approve Viewer Cannot approve"},{"location":"team/approvals/#audit-trail","title":"Audit trail","text":"<p>All approval decisions are logged in the tamper-evident audit log:</p> <pre><code>$ pm-team audit\n[2025-06-01 14:30:00] APPROVE  bob -&gt; \"Production DB\" (by: carol)\n[2025-06-01 15:15:00] DENY     alice -&gt; \"AWS Root Key\" (by: carol, reason: \"Use IAM role instead\")\n</code></pre>"},{"location":"team/approvals/#next-steps","title":"Next steps","text":"<p>See RBAC and roles for the permission model, or departments for encryption domain management.</p>"},{"location":"team/departments/","title":"Departments","text":"<p>Departments are isolated encryption domains within an APM Team Edition organization. Each department has its own encryption boundary, ensuring secrets cannot cross department lines without explicit permission.</p>"},{"location":"team/departments/#creating-departments","title":"Creating departments","text":"<pre><code>$ pm-team dept create Engineering\nDepartment \"Engineering\" created with isolated encryption domain.\n</code></pre> <p>Each department generates its own encryption key, wrapped by the organization master key. This ensures that:</p> <ul> <li>Secrets in Engineering cannot be accessed by Marketing members.</li> <li>Compromising one department key does not expose other departments.</li> <li>Department-level key rotation is independent of the organization.</li> </ul>"},{"location":"team/departments/#department-structure","title":"Department structure","text":"<pre><code>Organization\n  |\n  +-- Engineering (isolated key)\n  |     +-- alice (admin)\n  |     +-- bob (member)\n  |\n  +-- Marketing (isolated key)\n  |     +-- carol (manager)\n  |     +-- dave (viewer)\n  |\n  +-- DevOps (isolated key)\n        +-- eve (member)\n</code></pre>"},{"location":"team/departments/#managing-members","title":"Managing members","text":""},{"location":"team/departments/#adding-to-a-department","title":"Adding to a department","text":"<pre><code>$ pm-team user add bob --role member --dept Engineering\nUser \"bob\" onboarded to Engineering as member.\n</code></pre>"},{"location":"team/departments/#moving-between-departments","title":"Moving between departments","text":"<pre><code>$ pm-team user move bob --from Engineering --to DevOps\nUser \"bob\" moved to DevOps. Engineering access revoked.\n</code></pre> <p>Important</p> <p>Moving a user between departments revokes their access to the previous department's secrets and grants access to the new department. This is a cryptographic operation \u2014 the user's access keys are re-derived for the new encryption domain.</p>"},{"location":"team/departments/#listing-department-members","title":"Listing department members","text":"<pre><code>$ pm-team dept members Engineering\n+-------+--------+\n| User  | Role   |\n+-------+--------+\n| alice | admin  |\n| bob   | member |\n+-------+--------+\n</code></pre>"},{"location":"team/departments/#department-scoped-secrets","title":"Department-scoped secrets","text":"<p>Secrets added within a department context are encrypted with that department's key:</p> <pre><code>$ pm-team add --dept Engineering\n? Select category: API Key\n? Service: Production API\n? Key: sk-xxxxxxxxxxxx\n\nEntry added to Engineering department.\n</code></pre>"},{"location":"team/departments/#deleting-departments","title":"Deleting departments","text":"<pre><code>$ pm-team dept delete Marketing\n? Confirm deletion of \"Marketing\" and all its secrets? Yes\nDepartment \"Marketing\" deleted.\n</code></pre> <p>Important</p> <p>Deleting a department permanently destroys all secrets within it and revokes access for all assigned members. This operation is irreversible.</p>"},{"location":"team/departments/#next-steps","title":"Next steps","text":"<p>See RBAC and roles for the permission model, or approval workflows for handling sensitive access requests.</p>"},{"location":"team/rbac/","title":"RBAC and roles","text":"<p>APM's Team Edition uses a multi-layered Role-Based Access Control (RBAC) model to enforce least-privilege access across the organization.</p>"},{"location":"team/rbac/#role-hierarchy","title":"Role hierarchy","text":"Role Scope Permissions Owner Organization-wide Full access, manage members, manage departments, approve requests, delete organization Admin Organization-wide Manage members, manage departments, approve requests Manager Department-scoped Manage department members, approve requests within department Member Department-scoped Read/write access to assigned department secrets Viewer Department-scoped Read-only access to assigned department secrets"},{"location":"team/rbac/#assigning-roles","title":"Assigning roles","text":""},{"location":"team/rbac/#during-onboarding","title":"During onboarding","text":"<pre><code>$ pm-team user add alice --role admin\nUser \"alice\" onboarded as admin.\n</code></pre>"},{"location":"team/rbac/#updating-roles","title":"Updating roles","text":"<pre><code>$ pm-team user role alice --set manager --dept Engineering\nRole updated: alice is now Manager of Engineering.\n</code></pre>"},{"location":"team/rbac/#permission-matrix","title":"Permission matrix","text":"Action Owner Admin Manager Member Viewer View secrets (own dept) Yes Yes Yes Yes Yes Add secrets (own dept) Yes Yes Yes Yes No Edit secrets (own dept) Yes Yes Yes Yes No Delete secrets (own dept) Yes Yes Yes No No View secrets (other dept) Yes Yes No No No Manage members Yes Yes Dept only No No Create departments Yes Yes No No No Approve requests Yes Yes Dept only No No Delete organization Yes No No No No"},{"location":"team/rbac/#encryption-boundaries","title":"Encryption boundaries","text":"<p>Each role assignment operates within the cryptographic isolation of the department it is scoped to. A Manager of Engineering cannot decrypt secrets belonging to Marketing, even with the organization master password.</p>"},{"location":"team/rbac/#next-steps","title":"Next steps","text":"<p>See departments for details on encryption domains, or approval workflows for managing sensitive access requests.</p>"}]}